<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Evaluation of Black-box Portable Executable (PE) Adversarial Attack DEADLINE 1.24 UC 这周搭建沙盒，看看alive的病毒占比多少 看看Pesidious能不能跑起来 先看下Virustotal上有没有关于可执行的报告，有多少数据保持恶意行为 操作系统可以export出来吗？ 数据集：  首先还要在沙盒中判定病毒是否">
<meta property="og:type" content="article">
<meta property="og:title" content="estimation on black-box adversarial-attack">
<meta property="og:url" content="http://example.com/2024/07/05/estimation-on-black-box-adversarial-attack/index.html">
<meta property="og:site_name" content="talk is cheap, show me the code.">
<meta property="og:description" content="Evaluation of Black-box Portable Executable (PE) Adversarial Attack DEADLINE 1.24 UC 这周搭建沙盒，看看alive的病毒占比多少 看看Pesidious能不能跑起来 先看下Virustotal上有没有关于可执行的报告，有多少数据保持恶意行为 操作系统可以export出来吗？ 数据集：  首先还要在沙盒中判定病毒是否">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-05%2016.01.05.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-24%2016.44.42.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-24%2016.45.45.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.05.50.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.05.58.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.27.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00-1813762.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-24%2017.35.49.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00-3083355.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-08%2010.17.22.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00-3083355.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-09%2015.19.45.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00-3608424.png">
<meta property="og:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-14%2012.07.42.png">
<meta property="article:published_time" content="2024-07-05T07:42:27.000Z">
<meta property="article:modified_time" content="2024-10-28T06:31:23.000Z">
<meta property="article:author" content="theLonging">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-05%2016.01.05.png">

<link rel="canonical" href="http://example.com/2024/07/05/estimation-on-black-box-adversarial-attack/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>estimation on black-box adversarial-attack | talk is cheap, show me the code.</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="talk is cheap, show me the code." type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">talk is cheap, show me the code.</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/05/estimation-on-black-box-adversarial-attack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.JPG">
      <meta itemprop="name" content="theLonging">
      <meta itemprop="description" content="不捨晝夜。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="talk is cheap, show me the code.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          estimation on black-box adversarial-attack
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-07-05 15:42:27" itemprop="dateCreated datePublished" datetime="2024-07-05T15:42:27+08:00">2024-07-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-10-28 14:31:23" itemprop="dateModified" datetime="2024-10-28T14:31:23+08:00">2024-10-28</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>40k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>36 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Evaluation of Black-box Portable Executable (PE) Adversarial Attack</p>
<p>DEADLINE 1.24</p>
<p>UC</p>
<p>这周搭建沙盒，看看alive的病毒占比多少</p>
<p>看看Pesidious能不能跑起来</p>
<p>先看下Virustotal上有没有关于可执行的报告，有多少数据保持恶意行为</p>
<p>操作系统可以export出来吗？</p>
<p>数据集：</p>
<ul>
<li>首先还要在沙盒中判定病毒是否alive，<ul>
<li>要尽可能模拟真实的实验环境，用户数据放到沙盒里，</li>
<li>签名，网络通信，api，文件活动，文件读写追踪，有没有破坏恶意活动的功能。</li>
</ul>
</li>
</ul>
<p><strong>10.10 问题：</strong></p>
<ul>
<li>已经将数据集全部上传到virustotal上获取报告了，因为AVCLASS需要这个报告对病毒进行分类，当前已全部分类完成</li>
<li>检查病毒是否alive：实验环境、4gb内存的windows 7 虚拟机。 分析并获取一个病毒的报告需要花费17分钟<ul>
<li>现在的想法是，将无害的文件上传至沙盒获取baseline，在这个baseline的基础上，如果有新的活动被监控，则认为是alive的</li>
</ul>
</li>
<li>对70个样本分别进行50次最简单的操作（也即随机修改），即3500次操作，需要耗费53分钟，我们现在有1w+的病毒样本</li>
</ul>
<p>可复现的论文：</p>
<p>前面八个是可以浮现的，后面两个暂时还在调试</p>
<p>需要查询检测器的：</p>
<ol>
<li><strong>Learning to Evade Static PE Machine Learning Malware Models via Reinforcement Learning</strong>. <em>Hyrum S. Anderson, Anant Kharkar, Bobby Filar, David Evans, Phil Roth</em>. Arxiv 2018. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1801.08917.pdf">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/endgameinc/gym-malware">code</a>] ✅<strong>创建了docker</strong>✅ 但是还没有实现docker GPU，实现了，但是好像没有使用GPU</li>
<li><strong>ARMED: How Automatic Malware Modifications Can Evade Static Detection?</strong>. <em>Raphael Labaca Castro, Corinna Schmitt, Gabi Dreo Rodosek</em>. International Conference on Information Management 2019. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8714698">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/zRapha/AIMED">code</a>] ✅<strong>创建了docker</strong>✅</li>
<li><strong>AIMED: Evolving Malware with Genetic Programming to Evade Detection</strong>. <em>Raphael Labaca Castro, Corinna Schmitt, Gabi Dreo Rodosek</em>. IEEE International Conference On Trust, Security And Privacy In Computing And Communications&#x2F;IEEE International Conference On Big Data Science And Engineering (TrustCom&#x2F;BigDataSE) 2019. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8887384">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/zRapha/AIMED">code</a>] ✅<strong>创建了docker</strong>✅</li>
<li><strong>AIMED-RL: Exploring Adversarial Malware Examples with Reinforcement Learning</strong>. <em>Labaca-Castro, Raphael, Sebastian Franz, Gabi Dreo Rodosek</em>. Joint European Conference on Machine Learning and Knowledge Discovery in Databases (ECML-PKDD) 2021. ✅<strong>创建了docker</strong>✅</li>
<li><strong>MalwareTotal: Multi-Faceted and Sequence-Aware Bypass Tactics Against Static Malware Detection.</strong> <em>Shuai He and Cai Fu and Hong Hu and Jiahe Chen and Jianqiang Lv and Shuai Jiang Proceedings of the 46th International Conference on Software Engineering (ICSE 2024)</em> 这个也是需要 docker gpu支持的 ✅<strong>创建了docker</strong>✅ 添加了cuda，但是运行时出现cuda out of memory报错</li>
<li><strong>A Wolf in Sheep’s Clothing: Practical Black-box Adversarial Attacks for Evading Learning-based Windows Malware Detection in the Wild.</strong> <em>USENIX Security Symposium 2024.</em></li>
<li><strong>MAB-Malware: A Reinforcement Learning Framework for Attacking Static Malware Classifiers</strong>. <em>Wei Song, Xuezixiang Li, Sadia Afroz, Deepali Garg, Dmitry Kuznetsov, Heng Yin</em>. Arxiv 2020. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2003.03100.pdf">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/bitsecurerlab/adversarial_malware.git">code</a>] ✅<strong>创建了docker</strong>✅</li>
</ol>
<p>直接生成样本而不查询检测器的：</p>
<ol>
<li><strong>Malware Makeover: Breaking ML-based Static Analysis by Modifying Executable Bytes</strong>. <em>Keane Lucas, Mahmood Sharif, Lujo Bauer, Michael K. Reiter, Saurabh Shintre</em>. Arxiv 2019. <code>Black-box and White-box</code> [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1912.09064.pdf">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/pwwl/enhanced-binary-diversification">code</a>]✅<strong>创建了docker</strong>✅，目前的想法是现在本地将二进制代码的cfg图通过ida pro收集好，然后一起上传到docker进行突变</li>
</ol>
<p>集成商业软件有困难的：</p>
<ol>
<li><strong>Functionality-preserving Black-box Optimization of Adversarial Windows Malware</strong>. <em>Luca Demetrio, Battista Biggio, Giovanni Lagorio, Fabio Roli, Alessandro Armando1</em>. IEEE Transactions on Information Forensics and Security 2021. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/9437194">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/zangobot/secml_malware">code</a>]</li>
<li><strong>Adversarial EXEmples: A Survey and Experimental Evaluation of Practical Attacks on Machine Learning for Windows Malware Detection</strong>. <em>Luca Demetrio, Scott E. Coull, Battista Biggio, Giovanni Lagorio, Alessandro Armando, Fabio Roli</em>. ACM Transactions on Privacy and Security 2021. <code>Black-box and White-box</code> [<a target="_blank" rel="noopener" href="https://dl.acm.org/doi/10.1145/3473039">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/zangobot/secml_malware">code</a>]</li>
</ol>
<h1 id="黑盒PE对抗性攻击的评估实验计划"><a href="#黑盒PE对抗性攻击的评估实验计划" class="headerlink" title="黑盒PE对抗性攻击的评估实验计划"></a>黑盒PE对抗性攻击的评估实验计划</h1><ol>
<li>论文是怎么选的 paper selection 画个表</li>
<li>复现代码，参数调整是怎么做的，</li>
<li>sok的工作</li>
<li>记录跑代码时的issue，什么方法遇到什么问题</li>
<li>setting</li>
<li>商用软件的选择的理由</li>
<li>把评判基准选出来</li>
</ol>
<p>实验设计，论文框架，每个实验是要说明什么？数据集怎么设置？</p>
<h2 id="Attacker-的选择问题"><a href="#Attacker-的选择问题" class="headerlink" title="Attacker 的选择问题"></a>Attacker 的选择问题</h2><ul>
<li>首先是要找<strong>开源的</strong>、<strong>攻击黑盒检测器</strong>的Attacker</li>
<li>按照<strong>学习方法</strong>（strategy）分类</li>
<li>按照<strong>突变操作</strong>（Manipulation）分类</li>
</ul>
<table>
<thead>
<tr>
<th align="left">Attacker</th>
<th>Manipulation</th>
<th>strategy</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Generating Adversarial Malware Examples for Black-Box Attacks Based on GAN</strong>. <em>Weiwei Hu, Ying Tan</em>. Arxiv 2017. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1702.05983.pdf">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/yanminglai/Malware-GAN">code</a>]</td>
<td>Add irrelevant API calls</td>
<td>GAN</td>
</tr>
<tr>
<td align="left">✅<strong>Learning to Evade Static PE Machine Learning Malware Models via Reinforcement Learning</strong>. <em>Hyrum S. Anderson, Anant Kharkar, Bobby Filar, David Evans, Phil Roth</em>. Arxiv 2018. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1801.08917.pdf">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/endgameinc/gym-malware">code</a>]</td>
<td>format-preserving modifications</td>
<td>Reinforcement Learning</td>
</tr>
<tr>
<td align="left">✅<strong>ARMED: How Automatic Malware Modifications Can Evade Static Detection?</strong>. <em>Raphael Labaca Castro, Corinna Schmitt, Gabi Dreo Rodosek</em>. International Conference on Information Management 2019. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8714698">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/zRapha/AIMED">code</a>]</td>
<td>format-preserving modifications</td>
<td>Randomization</td>
</tr>
<tr>
<td align="left">✅<strong>AIMED: Evolving Malware with Genetic Programming to Evade Detection</strong>. <em>Raphael Labaca Castro, Corinna Schmitt, Gabi Dreo Rodosek</em>. IEEE International Conference On Trust, Security And Privacy In Computing And Communications&#x2F;IEEE International Conference On Big Data Science And Engineering (TrustCom&#x2F;BigDataSE) 2019. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8887384">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/zRapha/AIMED">code</a>]</td>
<td>format-preserving modifications</td>
<td>Genetic Programming</td>
</tr>
<tr>
<td align="left"><strong>Shallow Security: on the Creation of Adversarial Variants to Evade Machine Learning-Based Malware Detectors</strong>. <em>Fabricio Ceschin, Marcus Botacin, Heitor Murilo Gomes, L. S. Oliveira, A. Grégio</em>. Reversing and Offensive-Oriented Trends Symposium (ROOTS) 2019. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://github.com/marcusbotacin/Dropper/tree/master/paper">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/marcusbotacin/Dropper">code</a>]</td>
<td>Append strings from goodware  &amp; Packing</td>
<td>Randomization</td>
</tr>
<tr>
<td align="left">✅<strong>Malware Makeover: Breaking ML-based Static Analysis by Modifying Executable Bytes</strong>. <em>Keane Lucas, Mahmood Sharif, Lujo Bauer, Michael K. Reiter, Saurabh Shintre</em>. Arxiv 2019. <code>Black-box and White-box</code> [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1912.09064.pdf">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/pwwl/enhanced-binary-diversification">code</a>]</td>
<td>Binary diversification techniques</td>
<td>Hill-climbing algorithm</td>
</tr>
<tr>
<td align="left">✅<strong>MAB-Malware: A Reinforcement Learning Framework for Attacking Static Malware Classifiers</strong>. <em>Wei Song, Xuezixiang Li, Sadia Afroz, Deepali Garg, Dmitry Kuznetsov, Heng Yin</em>. Arxiv 2020. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2003.03100.pdf">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/bitsecurerlab/adversarial_malware.git">code</a>]</td>
<td>format-preserving (macro &amp; micro) modifications</td>
<td>Weighted Randomization</td>
</tr>
<tr>
<td align="left">✅<strong>AIMED-RL: Exploring Adversarial Malware Examples with Reinforcement Learning</strong>. <em>Labaca-Castro, Raphael, Sebastian Franz, Gabi Dreo Rodosek</em>. Joint European Conference on Machine Learning and Knowledge Discovery in Databases (ECML-PKDD) 2021.</td>
<td>format-preserving modifications</td>
<td>Reinforcement Learning</td>
</tr>
<tr>
<td align="left">✅<strong>Functionality-preserving Black-box Optimization of Adversarial Windows Malware</strong>. <em>Luca Demetrio, Battista Biggio, Giovanni Lagorio, Fabio Roli, Alessandro Armando1</em>. IEEE Transactions on Information Forensics and Security 2021. <code>Black-box</code> [<a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/9437194">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/zangobot/secml_malware">code</a>]</td>
<td>Inject and pad sections from benign PE files</td>
<td>Genetic Algorithm</td>
</tr>
<tr>
<td align="left">✅<strong>Adversarial EXEmples: A Survey and Experimental Evaluation of Practical Attacks on Machine Learning for Windows Malware Detection</strong>. <em>Luca Demetrio, Scott E. Coull, Battista Biggio, Giovanni Lagorio, Alessandro Armando, Fabio Roli</em>. ACM Transactions on Privacy and Security 2021. <code>Black-box and White-box</code> [<a target="_blank" rel="noopener" href="https://dl.acm.org/doi/10.1145/3473039">pdf</a>] [<a target="_blank" rel="noopener" href="https://github.com/zangobot/secml_malware">code</a>]</td>
<td>DOS Header Extension, Content Shifting</td>
<td>Gradient-based（这里不一定对，因为它是黑盒白盒都有的）</td>
</tr>
<tr>
<td align="left">✅<strong>MalwareTotal: Multi-Faceted and Sequence-Aware Bypass Tactics Against Static Malware Detection.</strong> <em>Shuai He and Cai Fu and Hong Hu and Jiahe Chen and Jianqiang Lv and Shuai Jiang Proceedings of the 46th International Conference on Software Engineering (ICSE 2024)</em></td>
<td>23个方法</td>
<td>近端策略优化（PPO）（这个是直接调用api.learn学习）</td>
</tr>
<tr>
<td align="left">✅<strong>A Wolf in Sheep’s Clothing: Practical Black-box Adversarial Attacks for Evading Learning-based Windows Malware Detection in the Wild.</strong> <em>USENIX Security Symposium 2024.</em></td>
<td>Slack_space &amp; new_section</td>
<td>MCTS</td>
</tr>
<tr>
<td align="left"><strong>No Need to Teach New Tricks to Old Malware: Winning an Evasion Challenge with XOR-based Adversarial Samples</strong>（需要在windows环境下编译）</td>
<td>Dropper（将恶意软件插入到良性软件的资源段运行）</td>
<td>Heuristic-based（这个应该是没有环境交互的，只修改一次的）</td>
</tr>
<tr>
<td align="left"><strong>Black-box Adversarial Attacks Against Deep Learning Based Malware Binaries Detection with GAN</strong> <em>24th European Conference on Artificial Intelligence - ECAI 2020</em>（没有源码）</td>
<td>经过设计的overlay_append</td>
<td>GAN</td>
</tr>
<tr>
<td align="left"><strong>Black-Box Adversarial Windows Malware Generation via United Puppet-based Dropper and Genetic Algorithm</strong> <em>IEEE International Conference on High Performance Computing and Communications</em>（没有源码）</td>
<td>Dropper</td>
<td>GA</td>
</tr>
<tr>
<td align="left"><strong>A Wolf in Sheep’s Clothing: Query-Free Evasion Attacks Against Machine Learning-Based Malware Detectors with Generative Adversarial Networks</strong> <em>IEEE European Symposium on Security and Privacy</em> <a target="_blank" rel="noopener" href="https://github.com/danielgibert/adv_mlw_examples_generation_with_gans">https://github.com/danielgibert/adv_mlw_examples_generation_with_gans</a></td>
<td></td>
<td>GAN</td>
</tr>
</tbody></table>
<h2 id="Detector-的选择问题"><a href="#Detector-的选择问题" class="headerlink" title="Detector 的选择问题"></a>Detector 的选择问题</h2><p><del>这是个好问题、我也不知道怎么选</del></p>
<p><strong>问题：商用杀毒软件没有提供自动化检测的接口、且商用杀毒软件是要付费的</strong></p>
<ul>
<li>首先一定要能很好自动化检测的Detector（这是由于我们要集成到不同attacker的接口上）</li>
<li>Detector的选择一定要多样化，基于<strong>机器学习</strong>的检测器和基于<strong>其他策略</strong>的检测器</li>
</ul>
<table>
<thead>
<tr>
<th>Detector</th>
<th>Paper</th>
<th>Category</th>
<th>Architectures</th>
<th>Features</th>
</tr>
</thead>
<tbody><tr>
<td>✅EMBER</td>
<td>Anderson, H. S., Roth, P., 2018. EMBER: an open dataset for training static PE mal- ware machine learning models. ArXiv preprint arXiv:1804.04637.</td>
<td>static</td>
<td>LightGBM</td>
<td>Byte Sequence&amp;Readable String&amp;Header Information</td>
</tr>
<tr>
<td>✅MalConv</td>
<td>Raff, E., Barker, J., Sylvester, J., Brandon, R., Catanzaro, B., Nicholas, C., 2017. Malware detection by eating a whole EXE. ArXiv preprint arXiv:1710.09435.</td>
<td>static</td>
<td>CNN</td>
<td>Byte Sequence</td>
</tr>
<tr>
<td>✅MalGraph</td>
<td>Ling, X., Wu, L., Deng, W., Qu, Z., Zhang, J., Zhang, S., Ma, T., Wang, B., Wu, C., Ji, S., 2022. MalGraph: Hierarchical graph neural networks for robust Windows mal- ware detection. In: IEEE Conference on Computer Communications. IEEE, Virtual Event, pp. 1998–2007.</td>
<td>Static &amp; dynamic</td>
<td></td>
<td>Control Flow Graph&amp;Function Call Graph</td>
</tr>
<tr>
<td>✅ClamAV（开源的反病毒软件）</td>
<td>\</td>
<td>ClamAV 依赖签名来区分干净文件和恶意&#x2F;不需要的文件。</td>
<td>\</td>
<td>signature based</td>
</tr>
<tr>
<td>✅AvastNet</td>
<td>Krcˇál, M., Švec, O., Bálek, M., Jašek, O., 2018. Deep convolutional malware classifiers can learn from raw executables and labels only. In: International Conference on Learning Representations – Workshop Track. OpenReview.net, Vancouver, BC, Canada, pp. 1–4.</td>
<td>\</td>
<td>DNN</td>
<td>\</td>
</tr>
<tr>
<td>Magic</td>
<td>Jiaqi Yan, Guanhua Yan, and Dong Jin. Classifying malware represented as control flow graphs using deep graph convolutional neural network. In <em>DSN</em>, 2019.</td>
<td>\</td>
<td>CNN</td>
<td>control flow graphs</td>
</tr>
</tbody></table>
<h4 id="Mal-Graph"><a href="#Mal-Graph" class="headerlink" title="Mal Graph:"></a>Mal Graph:</h4><p><strong>当前检测器存在的问题</strong></p>
<ul>
<li>它们忽略了可执行文件中的丰富语义信息，因此无法捕捉恶意软件的内在属性，例如不同函数如何在可执行文件中交互、不同函数的语义是什么等；</li>
<li>它们无法提供稳健的恶意软件检测，因为它们依赖的表示方式很容易被修改，而不会影响可执行文件的功能。</li>
</ul>
<p><strong>本文提出</strong></p>
<ul>
<li>函数调用图（FCG）用于学习不同函数之间的交互语义（在函数间级别）</li>
<li>控制流图（CFG）则用于学习每个函数的结构语义（在函数内部级别）</li>
</ul>
<p><strong>本文的主要贡献包括：</strong></p>
<ul>
<li>据我们所知，这是首次通过层次化图表示可执行程序，其中大部分结构信息得到了保留和学习。</li>
<li>我们提出了MalGraph，这是一种基于层次化图的新型层次化图神经网络，能够有效且稳健地检测Windows恶意软件。</li>
<li>大量评估表明，MalGraph在检测效果和鲁棒性方面均优于三种最先进的基线检测方法。</li>
</ul>
<h2 id="Dataset的选择问题"><a href="#Dataset的选择问题" class="headerlink" title="Dataset的选择问题"></a>Dataset的选择问题</h2><ul>
<li>首先是要多样化，要包含足够丰富的病毒家族</li>
<li>不支持使用病毒的特征向量，因为从特征向量到二进制程序的过程是不可微的</li>
<li></li>
</ul>
<p>但是选择多大的Dataset合适？</p>
<h2 id="评价的指标问题"><a href="#评价的指标问题" class="headerlink" title="评价的指标问题"></a>评价的指标问题</h2><p>我们评价一个黑盒对抗性攻击器好坏的指标是什么？</p>
<ol>
<li><p><strong>逃逸效率</strong>：能逃逸的检测器越多越好，能逃逸的比例越高越好</p>
<ul>
<li><p><strong>Learning to Evade Static PE Machine Learning Malware Models via Reinforcement Learning</strong></p>
<p>对逃逸率的定义：对同一个恶意软件尝试生成100个对抗性样本，其中如果有80个对抗性样本成功逃逸，逃逸率为80%</p>
</li>
<li><p>其他的论文：100个恶意软件有80个成功生成对抗性样本，则逃逸率为80%</p>
</li>
</ul>
</li>
<li><p>是否<strong>保持PE格式</strong>、<strong>可执行</strong>、<strong>恶意功能</strong>：生成的可以保持恶意功能的对抗性样本的比率越高越好</p>
<ul>
<li><code>ARMED、AIMED、AIMED-RL</code>的<code>functionality</code>的检测方法不具备说服力<ul>
<li>函数<code>malware_analysis</code>：样本在沙盒中运行时间超过<code>15s</code>且报告中没有<code>err</code>，则为<code>functionality</code></li>
<li>函数<code>malware_analysis_HA</code>：样本报告中含有<code>domains</code>或<code>compromised_hosts</code>，则为<code>functionality</code></li>
</ul>
</li>
<li>&#96;MAB-malware:<ul>
<li>cuckoo沙盒返回的签名：<code>检测到加密行为 || 原始签名列表中未找到相同签名的数量少于或等于1 ||相似率大于等于 80%</code></li>
</ul>
</li>
<li><code>A Wolf in Sheep’s Clothing</code> <strong>通过在 Cuckoo 沙盒中运行 z 和 zadv 时收集和比较两者调用的 API 序列 (即 APIz 和 APIzadv) 来判断其语义保留率</strong></li>
<li><code>MalwareTotal:</code> 比较cuckoo返回的签名，如果相同则证明保持了功能性（）</li>
</ul>
</li>
<li><p>生成<strong>对抗性样本的时间效率</strong>：时间越快越好</p>
</li>
<li><p><strong>生成对抗性样本的大小</strong>和<strong>原始病毒样本的大小</strong>比较</p>
</li>
<li><p>在<strong>哈希狩猎</strong>的表现下如何？</p>
</li>
</ol>
<h2 id="实验设计"><a href="#实验设计" class="headerlink" title="实验设计"></a>实验设计</h2><p><del>针对评价指标设计实验</del></p>
<ol>
<li><del><strong>逃逸效率</strong>：</del><ul>
<li><del>针对基于机器学习的检测器的逃逸效率</del></li>
<li><del>针对商用检测器的逃逸效率（<strong>既然是黑盒攻击，尝试直接将商用软件集成到攻击模型中</strong>）</del></li>
<li><del>最后是不是将生成的对抗性样本上传到VirusTotal上获取结果？</del></li>
</ul>
</li>
<li><del>是否<strong>保持PE格式</strong>、<strong>可执行</strong>、<strong>恶意功能</strong>：</del><ul>
<li><del>检测PE格式：使用python脚本检测PE格式</del></li>
<li><del>检测可执行性：使用沙盒检测生成样本的可执行性（计划使用开源的Cuckoo Sandbox）</del></li>
<li><del>检测恶意功能：使用沙盒检测生成样本的恶意功能（计划使用开源的Cuckoo Sandbox、方法采用<em>A Wolf in Sheep’s Clothing</em>中提到的方法：<strong>通过在 Cuckoo 沙盒中运行 z 和 zadv 时收集和比较两者调用的 API 序列 (即 APIz 和 APIzadv) 来判断其语义保留率。</strong>）</del></li>
</ul>
</li>
<li><del>生成对抗性样本的<strong>时间效率</strong>：</del><ul>
<li><del>这个没啥好说的，直接统计时间就可以了</del></li>
<li><del>值得注意的是、可以比较一下什么是更高效的搜索算法</del></li>
</ul>
</li>
<li><del><strong>样本大小</strong>的比较</del><ul>
<li><del>这个直接比较大小就好</del></li>
</ul>
</li>
<li><del><strong>哈希狩猎</strong>下的表现</del><ul>
<li><del>使用TLSH、SSDEEP比较相似性得分</del></li>
</ul>
</li>
</ol>
<p><strong>实验框架：</strong></p>
<ol>
<li><strong>RQ1:</strong> 面向基于机器学习检测器的攻击性能</li>
<li><strong>RQ2:</strong> 面向商用检测器的攻击性能</li>
<li><strong>RQ3:</strong> 生成的对抗性样本是否保持恶意行为？<del>如果没有，破坏样本恶意行为的原因是什么？</del></li>
<li><strong>RQ4:</strong> 进行消融实验，探究不同的策略和方法的效果怎么样？<strong>挑选前面攻击性能较好的前三个，类别不同的方法，到时候看看有没有必要做消融实验</strong></li>
<li><strong>RQ5:</strong> 在针对对抗性样本的防御措施下表现怎么样</li>
<li><strong>RQ6:</strong> 使用SHAP来计算每个特征的重要性</li>
</ol>
<p>定义：</p>
<ul>
<li><p><strong>逃逸率：</strong><br>$$<br>\text{逃逸率} &#x3D; \frac{\text{生成的逃逸样本数量}}{\text{总样本数量}}<br>$$</p>
</li>
<li><p><strong>查询开销：</strong>实现逃避所需的检测器查询次数，我们用其来替代生成时间</p>
</li>
<li><p><strong>文件扰动量：</strong>生成的对抗性样本与原样本的大小比较</p>
</li>
<li><p><strong>False Positive Rate</strong>（假阳性率）：针对机器学习的模型，取<code>0.1%</code>和<code>1%</code></p>
</li>
</ul>
<ol>
<li><p><strong>实验一：</strong>对学术上的基于机器学习的检测器的逃逸率：ember、malconv、malgraph；对商用杀毒软件的逃逸率：ClamAV、AVASTNet、。。。（其实这个可以细分成实验一：针对学术的检测器的表现；实验二：针对商用检测器的表现）</p>
<p>顺便测试一下三种混淆技术的攻击性能？UPX、VMProtect、Enigma，（<code>AWolfInSheep&#39;sClothing</code>测试了）</p>
<p><strong>需要记录的数据：</strong></p>
<ul>
<li>逃逸率：<strong>不同恶意软件类型</strong>的逃逸率、<strong>不同PE文件大小</strong>的逃逸率。</li>
<li>查询开销</li>
<li>文件扰动量</li>
<li><strong>功能完整性</strong>：确认对抗样本在经过修改后仍能执行其恶意行为（这个的评价标准是什么呢？）要不要探究失败的原因呢？（<strong>这个是不是可以单独分成一个实验呢？</strong>）</li>
</ul>
<p><strong>问题：</strong></p>
<ul>
<li>我们<strong>要不要遵循原paper的参数</strong>，观察各种攻击在商业检测器和学术检测器的逃逸率如何？还是确保所有攻击方法使用相同的攻击参数设置（如查询次数、扰动上限等）以便于横向对比。</li>
<li>使用<strong>相同的恶意PE样本集</strong>（选择覆盖不同类型和大小的恶意软件），<strong>这会由于一些攻击只针对32位程序而放弃64位程序</strong>。</li>
<li><strong>商用杀毒软件</strong>的版本、签名库日期等也应保持一致，并在报告中标明，以确保结果的可复现性。这个感觉很难实现，因为商用杀毒软件是联网的，肯定会实时动态更新数据库，可能导致越靠后的实验效果越差。</li>
</ul>
</li>
<li><p><strong>实验二：</strong>消融实验？？针对策略的、针对操作的。</p>
<ul>
<li>针对操作：没有必要组合排列测试，直接记录逃逸成功的样本的扰动种类。（这个可以减少实验量）</li>
<li>针对策略：对于每个样本的扰动次数，针对不同策略的搜索深度，（这个怎么设计呢）</li>
</ul>
</li>
<li><p><strong>实验三：</strong>可能的防御手段</p>
<ul>
<li><strong>对抗性训练：</strong>这个是要自己重新训练一个模型。</li>
<li><strong>基于哈希值的病毒狩猎：</strong>TLSH、ImpHash、SSDeep</li>
<li><strong>死代码移除、控制流图缩减</strong>：将生成的对抗性样本经过Optimice插件的二进制代码优化处理后，再将其输入到目标恶意软件检测器中进行评估。</li>
</ul>
</li>
<li><p><strong>实验四：</strong>使用SHAP来计算每个特征的重要性？</p>
</li>
</ol>
<h2 id="一些我认为是以前的文章没有做过的工作"><a href="#一些我认为是以前的文章没有做过的工作" class="headerlink" title="一些我认为是以前的文章没有做过的工作"></a>一些我认为是以前的文章没有做过的工作</h2><ol>
<li>既然对抗性样本和原始病毒样本具有相同的语义、那么在基于<strong>哈希值的病毒狩猎</strong>中、对抗性样本的表现如何？<ul>
<li>例如 TLSH、ImpHash、SSDeep等</li>
</ul>
</li>
<li>对恶意软件样本进行<strong>分类</strong>、查看不同类别的表现如何、是否有特定的操作对于特定的类别的病毒样本效果很好？</li>
<li><del>据我所知，这是第一个对黑盒对抗攻击的评估，最终目标是可以做成一个benchmark platform</del></li>
</ol>
<h2 id="实验平台搭建："><a href="#实验平台搭建：" class="headerlink" title="实验平台搭建："></a>实验平台搭建：</h2><h3 id="保持PE格式、可执行、恶意功能的检测模块"><a href="#保持PE格式、可执行、恶意功能的检测模块" class="headerlink" title="保持PE格式、可执行、恶意功能的检测模块"></a><strong>保持PE格式</strong>、<strong>可执行</strong>、<strong>恶意功能</strong>的检测模块</h3><ul>
<li><p>编写python脚本检查PE文件是否保持PE格式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：PE二进制文件</span><br><span class="line">输出：是否符合PE文件格式</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用Cuckoo 沙盒检查对抗性样本是否可执行？</p>
</li>
<li><p>使用Cuckoo 沙盒检查对抗性样本是否维持恶意功能</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过在 Cuckoo 沙盒中运行 z 和 zadv 时收集和比较两者调用的 API 序列 (即 APIz 和 APIzadv) 来判断其语义保留率。</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="数据集模块"><a href="#数据集模块" class="headerlink" title="数据集模块"></a>数据集模块</h3><p>编写python脚本，使用AVCLASS2对数据集进行分类。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：PE二进制文件</span><br><span class="line">输出：分类</span><br></pre></td></tr></table></figure>

<h3 id="哈希狩猎检测模块"><a href="#哈希狩猎检测模块" class="headerlink" title="哈希狩猎检测模块"></a>哈希狩猎检测模块</h3><p>编写python脚本，计算对抗性样本和原始病毒样本的相似性得分</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：对抗性样本，原始病毒样本</span><br><span class="line">输出：得分</span><br></pre></td></tr></table></figure>

<p>需要注意的是，<strong>判断两个文件相似的阈值</strong>应该设置为多少？</p>
<h3 id="文件大小比较模块"><a href="#文件大小比较模块" class="headerlink" title="文件大小比较模块"></a>文件大小比较模块</h3><p>编写python脚本，计算对抗性样本和原始病毒样本的大小差异</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：对抗性样本，原始病毒样本</span><br><span class="line">输出：两个文件的大小差异</span><br></pre></td></tr></table></figure>

<h3 id="攻击器的生成效率"><a href="#攻击器的生成效率" class="headerlink" title="攻击器的生成效率"></a>攻击器的生成效率</h3><p>这个直接计算生成样本消耗的时间就可以了</p>
<p>控制变量法：相同的数据集，攻击相同的检测器，迭代次数是不是要相同？最终生成的对抗性样本数量肯定是不同的，这个问题该如何解决？</p>
<h3 id="黑盒检测器接口模块"><a href="#黑盒检测器接口模块" class="headerlink" title="黑盒检测器接口模块"></a>黑盒检测器接口模块</h3><p>修改不同攻击器攻击的黑盒检测器模块，使其成为一个接口，能向攻击器返回不同检测器反馈的结果。（这一部分应该是最难的点）</p>
<h1 id="现有survey的优缺点"><a href="#现有survey的优缺点" class="headerlink" title="现有survey的优缺点"></a>现有survey的优缺点</h1><h2 id="Adversarial-Attacks-against-Windows-PE-Malware-Detection-A-Survey-of-the-State-of-the-Art-Computer-amp-Security-2023"><a href="#Adversarial-Attacks-against-Windows-PE-Malware-Detection-A-Survey-of-the-State-of-the-Art-Computer-amp-Security-2023" class="headerlink" title="Adversarial Attacks against Windows PE Malware Detection: A Survey of the State-of-the-Art; Computer &amp; Security 2023"></a>Adversarial Attacks against Windows PE Malware Detection: A Survey of the State-of-the-Art; <code>Computer &amp; Security 2023</code></h2><p><strong>论文贡献</strong></p>
<ol>
<li>强调了<strong>保持PE格式</strong>、<strong>保持可执行性</strong>、<strong>保持恶意性</strong></li>
<li>提出了一个<strong>完整的分类法</strong></li>
<li>总结了现有针对<strong>PE恶意软件检测的对抗性攻击</strong>和<strong>防御措施</strong></li>
</ol>
<h3 id="Pros"><a href="#Pros" class="headerlink" title="Pros:"></a>Pros:</h3><p>分别对attacker和detector进行了分类和总结：</p>
<ul>
<li><p>对检测器的分类（基于特征工程）：</p>
<ul>
<li>静态特征：<ul>
<li>字节序列</li>
<li>可读字符串</li>
<li>头信息</li>
<li>灰度图像</li>
</ul>
</li>
<li>动态特征：<ul>
<li>系统资源状态</li>
<li>文件状态</li>
<li>注册表状态</li>
<li>网络状态</li>
</ul>
</li>
<li>混合特征：<ul>
<li>操作码</li>
<li>系统&#x2F;API调用</li>
<li>控制流程图（CFG）</li>
<li>函数调用图</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>对抗性攻击的分类</strong>：</p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-05%2016.01.05.png" alt="截屏2024-07-05 16.01.05"></p>
</li>
</ul>
<p>提出了未来的研究方向：</p>
<ol>
<li>Strong Demands for Robust PE Malware Detection</li>
<li>Practical and Efficient Adversarial Attacks against Commercial Anti-viruses in the Wild</li>
<li>Lack of Benchmark Platforms for Research</li>
</ol>
<h3 id="Cons"><a href="#Cons" class="headerlink" title="Cons:"></a>Cons:</h3><ul>
<li>贡献中提到的<strong>保持PE格式</strong>、<strong>保持可执行性</strong>、<strong>保持恶意性</strong>并没有通过<strong>实验数据的佐证</strong></li>
<li>survey没有衡量attacker得各项指标</li>
</ul>
<h3 id="Argue"><a href="#Argue" class="headerlink" title="Argue:"></a>Argue:</h3><ul>
<li>Benchmark Platform for Research 是一个很好的工作（<strong>但这个工作可能比较遥远</strong>）</li>
<li>除了Attack Strategy的总结、是否要对attack manipulation进行总结、对attack manipulation的细化到什么程度</li>
</ul>
<h2 id="A-comparison-of-adversarial-malware-generators-Journal-of-Computer-Virology-and-Hacking-Techniques-2024"><a href="#A-comparison-of-adversarial-malware-generators-Journal-of-Computer-Virology-and-Hacking-Techniques-2024" class="headerlink" title="A comparison of adversarial malware generators;Journal of Computer Virology and Hacking Techniques 2024"></a>A comparison of adversarial malware generators;<code>Journal of Computer Virology and Hacking Techniques 2024</code></h2><p><strong>论文贡献</strong></p>
<ol>
<li>我们将一些现有的对抗性学习方法应用于选定的恶意软件检测系统。</li>
<li>我们结合这些方法创建了更复杂的对抗性生成器，能够绕过顶级的杀毒产品。</li>
<li>我们从准确性和实际可用性方面评估了单一和组合生成器。</li>
</ol>
<p><strong>攻击的选择</strong></p>
<ol>
<li>基于梯度的技术：部分DOS；完全DOS</li>
<li>基于进化的算法：GAMMA填充；GAMMA注入</li>
<li>基于强化学习的技术：Gym-malware</li>
</ol>
<p><strong>实验设计</strong></p>
<p><strong>数据集：</strong></p>
<p>3625个来自windows11的无害PE文件</p>
<p>3625个从VirusShare库中获得的文件</p>
<p><strong>攻击设计：</strong></p>
<ul>
<li>部分DOS；完全DOS — 最大迭代次数：50 —&gt; Malconv <em>白盒</em></li>
<li>GAMMA填充；GAMMA注入 — 最大迭代次数：500；正则化参数：10^-5 —&gt; Malconv <em>黑盒</em></li>
<li>Gym-malware ——&gt; GDBT <em>黑盒</em></li>
</ul>
<h3 id="Pros-1"><a href="#Pros-1" class="headerlink" title="Pros"></a>Pros</h3><ul>
<li><p>第一篇评估当前对抗性攻击生成器的文章</p>
</li>
<li><p>评估的指标选用了<strong>样本大小变化</strong>（这项是我们的评估方法中可以采取的）：</p>
<blockquote>
<p>通常，攻击者的目标是将生成的对抗性文件大小的增加最小化，使其更难与原始恶意软件样本分开</p>
</blockquote>
</li>
</ul>
<h3 id="Cons-1"><a href="#Cons-1" class="headerlink" title="Cons"></a>Cons</h3><ul>
<li>并未说明选择攻击的理由是什么</li>
<li>排列组合已有的对抗性攻击生成器并不新颖</li>
<li>对商业杀毒软件的实验，并没有将商业杀毒软件作为直接的攻击对象，而是使用以及生成的样本进行检测</li>
<li>攻击的设计混乱：黑盒白盒均有且比较时同时比较，不同生成器攻击的检测器也不同</li>
<li>并未对生成的样本进行<strong>保持性检测</strong></li>
</ul>
<h3 id="Argue-1"><a href="#Argue-1" class="headerlink" title="Argue"></a>Argue</h3><ul>
<li><strong>数据集的代表性和多样性：</strong>使用更大且多样化的数据集，涵盖更多类型的恶意软件和更多种类的杀毒程序，以验证结果的广泛适用性。</li>
<li><strong>对抗性样本的功能性：</strong>在评估对抗性样本时，不仅要考虑其规避检测的能力，还应评估其功能性和可用性。</li>
</ul>
<h2 id="A-survey-of-strategy-driven-evasion-methods-for-PE-malware-Transformation-concealment-and-attack"><a href="#A-survey-of-strategy-driven-evasion-methods-for-PE-malware-Transformation-concealment-and-attack" class="headerlink" title="A survey of strategy-driven evasion methods for PE malware: Transformation, concealment, and attack"></a>A survey of strategy-driven evasion methods for PE malware: Transformation, concealment, and attack</h2><h3 id="paper回答的问题：（是否有理有据的回答清楚了？）"><a href="#paper回答的问题：（是否有理有据的回答清楚了？）" class="headerlink" title="paper回答的问题：（是否有理有据的回答清楚了？）"></a>paper回答的问题：（是否有理有据的回答清楚了？）</h3><ul>
<li><strong>RQ1</strong>：恶意软件编写者基于转换策略修改恶意软件的结构或行为有多难？转换策略在当今是否仍然适用？</li>
<li><strong>RQ2</strong>：恶意软件编写者主要采用哪些技术来隐藏恶意软件的行为？防御者对抗这些逃逸技术的难度有多大？</li>
<li><strong>RQ3</strong>：基于攻击的逃逸策略是否仍然有效以绕过检测？</li>
<li><strong>RQ4</strong>：攻击者可以使用哪些智能算法来实施基于攻击的逃逸策略以规避检测？哪些方法在现实场景中更为适用？</li>
<li><strong>RQ5</strong>：攻击者是否可以将这些逃逸策略结合起来，创造出更具逃逸性的恶意软件？‘</li>
</ul>
<h3 id="未回答的问题："><a href="#未回答的问题：" class="headerlink" title="未回答的问题："></a>未回答的问题：</h3><blockquote>
<p>Table 5 presents a comparison of the surveyed methods in relation to their attack algorithm, manipu- lation of malware, applied scenarios, and target detector. Due to the dissimilarities in the utilized dataset and target detector across the various works, comparative metrics such as the evasion rate are not compared.</p>
<p>表5对所调查的方法在攻击算法、恶意软件修改、应用场景和目标检测器方面进行了比较。由于各个研究中使用的数据集和目标检测器的不同，规避率等比较指标不作比较。</p>
</blockquote>
<h2 id="Evaluating-Realistic-Adversarial-Attacks-against-Machine-Learning-Models-for-Windows-PE-Malware-Detection"><a href="#Evaluating-Realistic-Adversarial-Attacks-against-Machine-Learning-Models-for-Windows-PE-Malware-Detection" class="headerlink" title="Evaluating Realistic Adversarial Attacks against Machine Learning Models for Windows PE Malware Detection"></a>Evaluating Realistic Adversarial Attacks against Machine Learning Models for Windows PE Malware Detection</h2><ul>
<li>使用SHAP计算每个特征的重要性</li>
<li>分析对抗性样本和原始恶意软件之间的<strong>欧几里得距离</strong></li>
<li>仅探讨了特定的攻击方法（Extend、Full DOS、Shift、FGSM padding+slack 和 GAMMA）</li>
<li>仅攻击了MalConv和LGBM模型</li>
</ul>
<h1 id="别的SOK论文是怎么写的"><a href="#别的SOK论文是怎么写的" class="headerlink" title="别的SOK论文是怎么写的"></a>别的SOK论文是怎么写的</h1><h2 id="Evaluating-Realistic-Adversarial-Attacks-against-Machine-Learning-Models-for-Windows-PE-Malware-Detection-1"><a href="#Evaluating-Realistic-Adversarial-Attacks-against-Machine-Learning-Models-for-Windows-PE-Malware-Detection-1" class="headerlink" title="Evaluating Realistic Adversarial Attacks against Machine Learning Models for Windows PE Malware Detection"></a><strong>Evaluating Realistic Adversarial Attacks against Machine Learning Models for Windows PE Malware Detection</strong></h2><p><strong>五种攻击：</strong>Extend、Full DOS、Shift、FGSM padding + slack 和 GAMMA</p>
<p><strong>两种检测器：</strong>MalConv和LGBM（Ember）</p>
<p><strong>贡献</strong>：</p>
<ul>
<li><p>增加了数据集规模</p>
</li>
<li><p>解释所考虑的对抗性攻击方法如何改变PE恶意软件，以欺骗检测器</p>
<p>使用SHAP<code>SHapley Additive exPlanations</code>技术解释输入值如何主要影响机器学习模型的决策</p>
</li>
<li><p>探讨了对抗训练策略作为确保有效决策模型抵御基于所考虑攻击方法生成的对抗 Windows PE 恶意软件的手段</p>
</li>
</ul>
<p><strong>评估研究的主要目标：</strong></p>
<ul>
<li><p>评估在为本研究准备的Windows PE数据集上，两个预训练模型MalConv和LGBM的准确性（第5.1节）。</p>
</li>
<li><p>评估两个预训练模型MalConv和LGBM在通过本研究中考虑的攻击方法生成的真实对抗Windows PE恶意软件下的完整性（第5.2节）。</p>
</li>
<li><p>分析原始Windows PE恶意软件与其对抗样本之间的距离（见第5.3节）。</p>
<blockquote>
<p>该距离通过在MalConv的原始字节输入空间（攻击在此生成）和LGBM的工程特征输入空间（生成的攻击在此进行可转移性分析）中计算的欧氏距离来衡量。欧氏距离在对所有文件的输入维度进行0到1之间的缩放后计算。每个距离值都除以其计算输入空间的维度数量。</p>
</blockquote>
</li>
<li><p>解释使用工程特征学习的LGBM模型在对抗Windows PE恶意软件文件的恶意行为做出决策时可能表现出不同的原因（第5.4节）。</p>
</li>
<li><p>调查使用通过真实Windows PE攻击方法生成的对抗恶意软件样本进行的对抗训练的性能（第5.5节）。</p>
</li>
</ul>
<h2 id="Adversarial-EXEmples-A-Survey-and-Experimental-Evaluation-of-Practical-Attacks-on-Machine-Learning-for-Windows-Malware-Detection"><a href="#Adversarial-EXEmples-A-Survey-and-Experimental-Evaluation-of-Practical-Attacks-on-Machine-Learning-for-Windows-Malware-Detection" class="headerlink" title="Adversarial EXEmples: A Survey and Experimental Evaluation of Practical Attacks on Machine Learning for Windows Malware Detection"></a>Adversarial EXEmples: A Survey and Experimental Evaluation of Practical Attacks on Machine Learning for Windows Malware Detection</h2><p><strong>评估的操作：</strong></p>
<ul>
<li><strong>Full DOS</strong>：通过修改DOS头部的非关键字节（除了Magic Number和PE头偏移量），注入对抗性负载而不影响程序的执行。</li>
<li><strong>Extend</strong>：通过扩展DOS头部，增加PE头的偏移量和头文件的大小，在其中创建空间并注入对抗性字节。</li>
<li><strong>Shift</strong>：通过移动第一个段的内容，增加段的偏移量，在段之前创建空间并注入对抗性负载。</li>
<li><strong>Partial DOS：</strong>通过修改 DOS 头中除 “MZ” 魔法数字和 PE 头偏移外的前 58 个字节，插入对抗性扰动。</li>
<li><strong>Padding：</strong>在文件末尾添加填充字节，以不影响文件功能的方式插入对抗性扰动。</li>
<li><strong>FGSM：</strong>通过使用梯度符号信息生成对抗性扰动，并将其注入文件中的填充空间或未使用的间隙中，避免破坏文件结构。<strong>FGSM（快速梯度符号方法）**的黑盒攻击通过使用像**填充**和</strong>间隙空间**这样的实际操作来实现。</li>
</ul>
<p><strong>检测器：</strong>（这里感觉还是不要自己训练，就用现成的就好）</p>
<ul>
<li>DNN-Lin (E)</li>
<li>DNN-Lin (P)</li>
<li>DNN-ReLU (E)</li>
<li>DNN-ReLU (P)</li>
<li>MalConv (E)</li>
<li>GBDT (E)</li>
</ul>
<p><strong>有一个迁移攻击检测</strong></p>
<p><strong>贡献：</strong></p>
<ul>
<li>我们提出了RAMEN，这是一个通用框架，用于表达基于静态代码分析的学习型Windows恶意软件检测器上的白盒和黑盒对抗性攻击。</li>
<li>我们提出了三种基于实用、保持功能的操作的新攻击，分别称为Full DOS、Extend和Shift，这些攻击在白盒和黑盒攻击环境中改善了逃避概率和字节扰动量之间的权衡。</li>
<li>我们将所有上述白盒和黑盒攻击的实现（包括之前的攻击、Extend和Shift）作为一个开源项目发布，链接为：<a target="_blank" rel="noopener" href="https://github.com/zangobot/secml_malware%E3%80%82">https://github.com/zangobot/secml_malware。</a></li>
<li>我们识别出一些有前景的未来研究方向，旨在提高基于静态代码分析的学习型Windows恶意软件检测器的对抗性鲁棒性。</li>
</ul>
<h2 id="An-Empirical-Study-on-the-Effectiveness-of-Adversarial-Examples-in-Malware-Detection"><a href="#An-Empirical-Study-on-the-Effectiveness-of-Adversarial-Examples-in-Malware-Detection" class="headerlink" title="An Empirical Study on the Effectiveness of Adversarial Examples in Malware Detection"></a><strong>An Empirical Study on the Effectiveness of Adversarial Examples in Malware Detection</strong></h2><p>这篇论文是一篇<strong>经验研究（empirical study）</strong>，主要探讨了对抗性样本（Adversarial Examples, AEs）在恶意软件检测中的有效性。论文的核心工作包括：</p>
<ol>
<li><strong>黑盒攻击</strong>：利用了七种不同的扰动技术，如“附加覆盖（Overlay Append）”和“破坏校验和（Break Checksum）”，通过直接对PE（Portable Executable）文件进行操作，生成可以规避机器学习（ML）和深度学习（DL）恶意软件检测器的对抗性样本。</li>
<li><strong>实验结果</strong>：论文验证了这种攻击方法的有效性，发现其可以对主流ML和DL恶意软件检测器达到65.6%和99%的规避率。此外，论文还指出，这些对抗性样本在VirusTotal上能够成功绕过17%的杀毒软件供应商。</li>
<li><strong>防御方法</strong>：作者提出了一种基于<strong>趋势局部敏感哈希（Trend Locality Sensitive Hashing, TLSH）</strong>的防御模型，该模型通过相似性检测有效抵御了这些对抗性样本，缓解了对抗训练的局限性。</li>
</ol>
<h2 id="A-Comparison-of-State-of-the-Art-Techniques-for-Generating-Adversarial-Malware-Binaries"><a href="#A-Comparison-of-State-of-the-Art-Techniques-for-Generating-Adversarial-Malware-Binaries" class="headerlink" title="A Comparison of State-of-the-Art Techniques for Generating Adversarial Malware Binaries"></a>A Comparison of State-of-the-Art Techniques for Generating Adversarial Malware Binaries</h2><p><strong>攻击方法实现：</strong></p>
<ul>
<li>填充攻击（Padding Attack）</li>
<li>部分 DOS 头部修改攻击（Partial DOS Header Manipulation）</li>
<li>基于遗传算法的对抗性恶意软件攻击（GAMMA）</li>
</ul>
<p><strong>攻击了两个主要的检测器</strong>：</p>
<ul>
<li><strong>MalConv</strong>：这是一个基于深度学习的恶意软件分类器，用于检测恶意软件。作者使用了预训练的 MalConv 模型，该模型是基于 EMBER 数据集训练的。MalConv 的分类置信度阈值设置为 0.5，也就是说，如果分类器的置信度超过 50%，则该样本会被分类为恶意软件。</li>
<li><strong>基于梯度的决策树分类器</strong>：这个分类器也是用于评估对抗性恶意软件生成效果的工具之一，但论文没有给出太多关于该分类器的详细参数设置。</li>
</ul>
<p><strong>性能评估：</strong></p>
<ul>
<li><strong>逃避率</strong>：表示修改后的恶意软件成功逃避分类器的样本比例。</li>
<li><strong>处理时间</strong>：恶意软件变得能够逃避检测所需的时间。</li>
<li><strong>扰动次数</strong>：恶意软件需要多少次字节修改才能成功逃避检测。</li>
</ul>
<h2 id="A-comparison-of-adversarial-malware-generators"><a href="#A-comparison-of-adversarial-malware-generators" class="headerlink" title="A comparison of adversarial malware generators"></a>A comparison of adversarial malware generators</h2><p><strong>攻击的参数设置：</strong></p>
<ul>
<li><strong>部分DOS攻击（Partial DOS）</strong>：白盒攻击，针对MalConv检测器。攻击者可以访问MalConv的内部结构，并使用梯度信息来指导攻击。</li>
<li><strong>全DOS攻击（Full DOS）</strong>：白盒攻击，目标同样是MalConv检测器。攻击者修改PE文件DOS头部的全部字节，利用梯度信息实现逃避。</li>
<li><strong>GAMMA填充攻击（Padding Attack）</strong>：黑盒攻击，针对MalConv检测器。攻击者通过插入良性字节来逃避检测，无法直接访问模型的内部参数。</li>
<li><strong>GAMMA段注入攻击（Section Injection Attack）</strong>：黑盒攻击，依然针对MalConv检测器。攻击者通过在恶意软件中添加新段并注入无害内容，目标是减少被检测的概率。</li>
<li><strong>Gym-malware攻击</strong>：黑盒攻击，目标是GBDT（Gradient Boosting Decision Tree）检测器。攻击者使用强化学习的方式，根据输出结果选择操作，而不依赖内部结构信息。</li>
</ul>
<p><strong>检测器：</strong>9个匿名的商用检测器</p>
<p><strong>性能评估：</strong></p>
<ul>
<li>作者主要通过逃避率（Evasion Rate, ER）来评估攻击效果，逃避率表示经过修改的恶意文件成功规避目标检测器的比例。</li>
<li>实验还比较了组合攻击的效果，包括使用不同的攻击生成器组合生成新的对抗性恶意样本，测试其逃避率。</li>
</ul>
<h1 id="实验用到的工具"><a href="#实验用到的工具" class="headerlink" title="实验用到的工具"></a>实验用到的工具</h1><h2 id="Cuckoo-Sandbox"><a href="#Cuckoo-Sandbox" class="headerlink" title="Cuckoo Sandbox"></a>Cuckoo Sandbox</h2><p>Cuckoo 是一个开源的自动恶意软件分析系统。</p>
<p>它可以检索以下类型的结果：</p>
<ul>
<li><p>恶意软件生成的所有进程执行的调用痕迹。</p>
</li>
<li><p>恶意软件在执行期间创建、删除和下载的文件。</p>
</li>
<li><p>恶意软件进程的内存转储。</p>
</li>
<li><p>PCAP格式的网络流量跟踪。</p>
</li>
<li><p>在执行恶意软件期间拍摄的屏幕截图。</p>
</li>
<li><p>机器的全内存转储。</p>
</li>
</ul>
<blockquote>
<p>虽然推荐的设置是GNU&#x2F;Linux（最好是Debian或Ubuntu），但Cuckoo也已证明在Mac OS X和Microsoft Windows 7上作为主机运行得很顺畅。推荐和测试的客机设置是Windows分析使用Windows XP和64位Windows 7，Mac OS X分析使用Mac OS X Yosemite，Linux分析使用Debian，尽管Cuckoo也应该可以在其他版本的客操作系统上工作。不要使用Windows Linux子系统（WLS）来运行Cuckoo Sandbox。</p>
</blockquote>
<h1 id="过程记录"><a href="#过程记录" class="headerlink" title="过程记录"></a>过程记录</h1><h2 id="如何判断一个PE文件格式合法"><a href="#如何判断一个PE文件格式合法" class="headerlink" title="如何判断一个PE文件格式合法"></a>如何判断一个PE文件格式合法</h2><p>使用pefile库作为工具</p>
<ol>
<li><code>DOS_HEADER</code>：	<ul>
<li>检查<code>DOS_HEADER.e_magic</code> 字段是否为<code>MZ</code></li>
</ul>
</li>
<li><code>IMAGE_NT_HEADER</code>: 包含文件头<code>FILE_HEADER</code>和可选头<code>OPTIONAL_HEADER</code><ul>
<li>文件头<code>FILE_HEADER</code>:<ul>
<li>检查文件头<code>FILE_HEADER</code>是否以<code>PE\0\0</code>开始</li>
<li>从可选头<code>OPTIONAL_HEADER</code>中获取文件的物理信息，例如<code>SizeOfImage</code>、<code>SizeOfCode</code></li>
</ul>
</li>
<li>可选头<code>OPTIONAL_HEADER</code><ul>
<li>检查<code>pe.OPTIONAL_HEADER.Magic</code>是否为<code>0x10B or 0x20B</code></li>
<li>检查<code>pe.OPTIONAL_HEADER.DATA_DIRECTORY</code>，确定虚拟地址是否在节中</li>
</ul>
</li>
</ul>
</li>
<li><code>SECTIONS</code>：<ul>
<li>节名称检查</li>
<li>节大小检查</li>
<li>节虚拟地址对齐检查</li>
<li>节原始数据指针对齐检查</li>
<li>实际节数量和<code>pe.FILE_HEADER.NumberOfSections</code>是否相等</li>
<li>检查实际section数量与<code>pe.FILE_HEADER.NumberOfSections</code>的值是否相等</li>
</ul>
</li>
<li><del>检查PE文件在磁盘上的实际大小和预期大小是否相同</del>（暂时不用这个作为判断PE格式的规则）<ul>
<li>预期大小：<code>expected_size = pe.OPTIONAL_HEADER.SizeOfHeaders + sum(section.SizeOfRawData for section in pe.sections)</code>、实际大小<code>len(pe.__data__)</code></li>
</ul>
</li>
<li>引入函数节<code>.idata</code><ul>
<li>检查 <code>IMAGE_IMPORT_DESCRIPTOR</code> 结构的数量是否与实际<code>DLL</code>的数量相对应</li>
</ul>
</li>
<li>导出函数节<code>.edata</code><ul>
<li>检查<code>NumberOfFunctions</code>是否和实际导出函数的数量相等</li>
</ul>
</li>
</ol>
<h2 id="使用-cuckoo-Sandbox-检查是否可执行和保持恶意功能"><a href="#使用-cuckoo-Sandbox-检查是否可执行和保持恶意功能" class="headerlink" title="使用 cuckoo Sandbox 检查是否可执行和保持恶意功能"></a>使用 cuckoo Sandbox 检查是否可执行和保持恶意功能</h2><p><del>卡住了，安装不了。现在打算试一下用<code>Hybrid analysis</code>这个工具</del></p>
<p>2024.8.24终于安装好了</p>
<p><code>sudo setcap cap_net_raw,cap_net_admin=eip /usr/bin/tcpdump </code>解决下面的问题</p>
<blockquote>
<p>2020-12-22 16:31:25,236 [cuckoo.core.plugins] ERROR: Unable to stop auxiliary module: Sniffer Traceback (most recent call last): File “&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python2.7&#x2F;dist-packages&#x2F;cuckoo&#x2F;core&#x2F;plugins.py”, line 164, in stop module.stop() File “&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python2.7&#x2F;dist-packages&#x2F;cuckoo&#x2F;auxiliary&#x2F;sniffer.py”, line 156, in stop (out, err, faq(“permission-denied-for-tcpdump”)) CuckooOperationalError: Error running tcpdump to sniff the network traffic during the analysis; stdout &#x3D; ‘’ and stderr &#x3D; ‘tcpdump: vboxnet0: That device is not up\n’. Did you enable the extra capabilities to allow running tcpdump as non-root user and disable AppArmor properly (the latter only applies to Ubuntu-based distributions with AppArmor, see also <a target="_blank" rel="noopener" href="https://cuckoo.sh/docs/faq/index.html#permission-denied-for-tcpdump">https://cuckoo.sh/docs/faq/index.html#permission-denied-for-tcpdump</a>)?</p>
</blockquote>
<h3 id="网页使用教程："><a href="#网页使用教程：" class="headerlink" title="网页使用教程："></a>网页使用教程：</h3><p>首先启动 mongoDB</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mongod <span class="comment"># 启动 MongoDB 服务</span></span><br><span class="line">sudo systemctl status mongod <span class="comment"># 验证 MongoDB 服务状态</span></span><br></pre></td></tr></table></figure>

<p>在第一个终端窗口运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cuckoo -d</span><br></pre></td></tr></table></figure>

<p>在第二个终端运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cuckoo web runserver</span><br></pre></td></tr></table></figure>

<p>访问<code>127.0.0.1:8000</code>，并提交病毒样本</p>
<h3 id="如何自动化提交样本到本地cuckoo并获取分析结果"><a href="#如何自动化提交样本到本地cuckoo并获取分析结果" class="headerlink" title="如何自动化提交样本到本地cuckoo并获取分析结果"></a>如何自动化提交样本到本地cuckoo并获取分析结果</h3><p>使用<code>cuckoo -d</code>开启<code>cuckoo</code>守护进程</p>
<p>使用<code>cuckoo api -H 127.0.0.1 -p 8000</code> 在本地的<code>127.0.0.1:8000</code>开启<code>api</code></p>
<p>然后通过下面的代码发送到cuckoo沙盒中解析，<code>api_token</code>在<code>.cuckoo/conf/cuckoo.conf</code>中获取。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">HEADERS = &#123;<span class="string">&quot;Authorization&quot;</span>: <span class="string">&quot;Bearer CNM8W4QnTABkVtke0fcx5Q&quot;</span>&#125;  <span class="comment"># 使用你的 api_token</span></span><br><span class="line"></span><br><span class="line">submit_url = <span class="string">&quot;http://localhost:8000/tasks/create/file&quot;</span></span><br><span class="line"></span><br><span class="line">  data = &#123;<span class="string">&#x27;timeout&#x27;</span>: <span class="string">&#x27;30&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">      <span class="keyword">with</span> <span class="built_in">open</span>(sample, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> sample_file:</span><br><span class="line">          files = &#123;<span class="string">&quot;file&quot;</span>: (<span class="string">&quot;new_mutation&quot;</span>, sample_file)&#125;</span><br><span class="line">          r = requests.post(submit_url, data=data, files=files, headers=HEADERS) </span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> r.status_code == <span class="number">200</span>:</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">f&quot;File successfully submitted for analysis: <span class="subst">&#123;sample&#125;</span>&quot;</span>)</span><br><span class="line">          <span class="keyword">return</span> r.json()</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">f&quot;Error code: <span class="subst">&#123;r.status_code&#125;</span> returned when submitting.&quot;</span>)</span><br><span class="line">          <span class="keyword">return</span> r.status_code</span><br></pre></td></tr></table></figure>

<p>通过上面返回的<code>r.json</code>得到task_id，然后使用下面的代码获取报告</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_report_local_sandbox</span>(<span class="params">task_id, report_type=<span class="string">&#x27;report&#x27;</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Fetches a report from Cuckoo Sandbox based on the task_id.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Input:</span></span><br><span class="line"><span class="string">        task_id: The ID of the task to fetch the report for</span></span><br><span class="line"><span class="string">        report_type: The type of report to fetch (&#x27;report&#x27; or &#x27;view&#x27;)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    report_url = <span class="string">f&quot;http://localhost:8000/tasks/<span class="subst">&#123;report_type&#125;</span>/<span class="subst">&#123;task_id&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(report_url, headers=HEADERS)</span><br><span class="line">        <span class="keyword">if</span> r.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> r.json()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;Failed to fetch report. Status code: <span class="subst">&#123;r.status_code&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.RequestException <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;An error occurred while fetching the report: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>



<h3 id="安装教程："><a href="#安装教程：" class="headerlink" title="安装教程："></a>安装教程：</h3><p>参考的博客：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://utopianknight.com/malware/cuckoo-installation-on-ubuntu-20/">https://utopianknight.com/malware/cuckoo-installation-on-ubuntu-20/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/BenjaminNL/p/11139517.html">https://www.cnblogs.com/BenjaminNL/p/11139517.html</a></li>
</ul>
<p>配置的环境为嵌套虚拟：</p>
<p>主机macOS 虚拟机 parallel desktop，⚠️<strong>我使用的是花钱升级后的parallel desktop，好像普通版的没有这个功能。当然我认为使用virtualbox也是可以的，你可以试一试</strong></p>
<p>parallel desktop 安装的是 ubuntu 22.04 jammy 版本， ubuntu中安装的是virtual box虚拟机系统为windows xp</p>
<p>跟随<a target="_blank" rel="noopener" href="https://utopianknight.com/malware/cuckoo-installation-on-ubuntu-20/%E4%B8%80%E8%87%B4%E5%AE%89%E8%A3%85%E5%88%B0step">https://utopianknight.com/malware/cuckoo-installation-on-ubuntu-20/一致安装到step</a> 54。现在我们不安装windows 7，转去安装windows xp（因为我的虚拟机存储空间不够）。</p>
<p>注意，首先我们要修改parallel desktop的网络设置，配置shared（也就是NAT）如下图所示</p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-24%2016.44.42.png" alt="截屏2024-08-24 16.44.42"></p>
<p>接着手动设置ubuntu的网络设置如下，这是为了确保ubuntu能够使用parallel desktop提供的子网访问互联网：</p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-24%2016.45.45.png" alt="截屏2024-08-24 16.45.45"></p>
<p>现在我们跟随<a target="_blank" rel="noopener" href="https://www.cnblogs.com/BenjaminNL/p/11139517.html%E7%9A%842.3%E8%8A%82%E8%BF%9B%E8%A1%8C%E5%AE%A2%E6%88%B7%E6%9C%BA%E5%87%86%E5%A4%87%EF%BC%9A">https://www.cnblogs.com/BenjaminNL/p/11139517.html的2.3节进行客户机准备：</a></p>
<p>⚠️ 注意在配置windowsxp虚拟机网关和ubuntu网关时，要配制成你parallel desktop 的 shared 网络设定的网关，这一步可以问问chatgpt怎么查看网关，通常是通过ifconfig查看。</p>
<p>其余步骤相同，还需要注意的点有</p>
<p>⚠️ mongodb需要安装4.2或4.4版本，如何在ubuntu22.04上安装mongodb 4.0 如下所示：</p>
<blockquote>
<p>要在Ubuntu 22.04上安装MongoDB 4.2，你可以按照以下步骤操作：</p>
<h3 id="1-导入MongoDB-4-2的官方公钥"><a href="#1-导入MongoDB-4-2的官方公钥" class="headerlink" title="1. 导入MongoDB 4.2的官方公钥"></a>1. 导入MongoDB 4.2的官方公钥</h3><p>首先，你需要导入MongoDB的官方公钥，以确保安装包的安全性：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO - https://www.mongodb.org/static/pgp/server-4.2.asc | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<h3 id="2-创建MongoDB-4-2的APT源列表文件"><a href="#2-创建MongoDB-4-2的APT源列表文件" class="headerlink" title="2. 创建MongoDB 4.2的APT源列表文件"></a>2. 创建MongoDB 4.2的APT源列表文件</h3><p>接下来，创建一个新的APT源列表文件，将MongoDB 4.2的源添加到系统中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/4.2 multiverse&quot;</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/mongodb-org-4.2.list</span><br></pre></td></tr></table></figure>

<p>注意：虽然你使用的是Ubuntu 22.04（Jammy），但MongoDB 4.2的官方APT源是为Ubuntu 18.04（Bionic）准备的。这个源在Ubuntu 22.04上也能正常工作。</p>
<h3 id="3-更新APT包数据库"><a href="#3-更新APT包数据库" class="headerlink" title="3. 更新APT包数据库"></a>3. 更新APT包数据库</h3><p>添加源后，更新你的APT包数据库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<h3 id="4-安装MongoDB-4-2"><a href="#4-安装MongoDB-4-2" class="headerlink" title="4. 安装MongoDB 4.2"></a>4. 安装MongoDB 4.2</h3><p>现在你可以安装MongoDB 4.2：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y mongodb-org=4.2.23 mongodb-org-server=4.2.23 mongodb-org-shell=4.2.23 mongodb-org-mongos=4.2.23 mongodb-org-tools=4.2.23</span><br></pre></td></tr></table></figure>

<p>这里我们指定了版本号 <code>4.2.23</code>，你可以根据需要安装MongoDB 4.2的其他版本。</p>
<h3 id="5-固定MongoDB版本"><a href="#5-固定MongoDB版本" class="headerlink" title="5. 固定MongoDB版本"></a>5. 固定MongoDB版本</h3><p>为了防止意外升级MongoDB，你可以将这些包固定在当前版本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;mongodb-org hold&quot;</span> | sudo dpkg --set-selections</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;mongodb-org-server hold&quot;</span> | sudo dpkg --set-selections</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;mongodb-org-shell hold&quot;</span> | sudo dpkg --set-selections</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;mongodb-org-mongos hold&quot;</span> | sudo dpkg --set-selections</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;mongodb-org-tools hold&quot;</span> | sudo dpkg --set-selections</span><br></pre></td></tr></table></figure>

<h3 id="6-启动MongoDB服务"><a href="#6-启动MongoDB服务" class="headerlink" title="6. 启动MongoDB服务"></a>6. 启动MongoDB服务</h3><p>安装完成后，你可以启动MongoDB服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mongod</span><br></pre></td></tr></table></figure>

<h3 id="7-设置MongoDB服务开机自启"><a href="#7-设置MongoDB服务开机自启" class="headerlink" title="7. 设置MongoDB服务开机自启"></a>7. 设置MongoDB服务开机自启</h3><p>为了确保MongoDB在系统启动时自动启动，你可以启用服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> mongod</span><br></pre></td></tr></table></figure>

<h3 id="8-检查MongoDB服务状态"><a href="#8-检查MongoDB服务状态" class="headerlink" title="8. 检查MongoDB服务状态"></a>8. 检查MongoDB服务状态</h3><p>你可以通过以下命令检查MongoDB服务的状态，以确保它运行正常：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status mongod</span><br></pre></td></tr></table></figure>

<p>至此，你已经成功在Ubuntu 22.04上安装了MongoDB 4.2。</p>
</blockquote>
<p>⚠️ ubuntu22.04 的 tcpdump的路径已经从 &#x2F;sbin&#x2F; 变为 &#x2F;bin&#x2F;</p>
<p>⚠️ 2022-07-02 03:09:17,187 [cuckoo.core.guest] DEBUG: cuckoo2: not ready yet 问题</p>
<blockquote>
<p>2022-07-02 03:09:17,187 [cuckoo.core.guest] DEBUG: cuckoo2: not ready yet<br>这个问题基本都是因为cuckoo的客户机中重启的时候agent没有启动成功。或者是保存快照的时候没有成功设置好开机自动启动agent（我参照的两个链接中用了不同的方法，我采用的是官方的办法），或者就是没安装python导致启动失败（安装python2.7就解决了）。</p>
<p>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40976667/article/details/125574007">https://blog.csdn.net/qq_40976667/article/details/125574007</a></p>
</blockquote>
<p>⚠️ </p>
<blockquote>
<p>≈ 你遇到的问题是由于 <code>m2crypto</code> 依赖于 OpenSSL 库的头文件和 SWIG，而当前的环境缺少这些头文件或不兼容的版本。要在 Python 2.7 上安装 <code>m2crypto==0.24.0</code>，可以尝试以下步骤：</p>
<h3 id="1-安装兼容的-OpenSSL-版本"><a href="#1-安装兼容的-OpenSSL-版本" class="headerlink" title="1. 安装兼容的 OpenSSL 版本"></a>1. 安装兼容的 OpenSSL 版本</h3><h3 id="重新编译-OpenSSL-以生成动态库"><a href="#重新编译-OpenSSL-以生成动态库" class="headerlink" title="重新编译 OpenSSL 以生成动态库"></a>重新编译 OpenSSL 以生成动态库</h3><ol>
<li><p>进入 OpenSSL 的源代码目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line">cd /path/to/openssl-1.0.2u/</span><br></pre></td></tr></table></figure>
</li>
<li><p>清理之前的构建：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line">make clean</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新配置编译并生成动态库（<code>libssl.so</code> 和 <code>libcrypto.so</code>）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line">./config --prefix=/usr/local/ssl shared</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<p>这里的 <code>shared</code> 选项将确保 OpenSSL 构建包含动态库。</p>
</li>
<li><p>验证是否生成了动态库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line">ls /usr/local/ssl/lib/libcrypto.so</span><br><span class="line">ls /usr/local/ssl/lib/libssl.so</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-设置-OpenSSL-环境变量"><a href="#2-设置-OpenSSL-环境变量" class="headerlink" title="2. 设置 OpenSSL 环境变量"></a>2. 设置 OpenSSL 环境变量</h3><p>在编译和安装 <code>m2crypto</code> 时，需要确保使用正确的 OpenSSL 版本。你需要设置 <code>LDFLAGS</code> 和 <code>CPPFLAGS</code> 以指向你安装的 OpenSSL 路径。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LDFLAGS=<span class="string">&quot;-L/usr/local/ssl/lib&quot;</span></span><br><span class="line"><span class="built_in">export</span> CPPFLAGS=<span class="string">&quot;-I/usr/local/ssl/include&quot;</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/ssl/bin:<span class="variable">$PATH</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-安装-SWIG-3-x"><a href="#3-安装-SWIG-3-x" class="headerlink" title="3. 安装 SWIG 3.x"></a>3. 安装 SWIG 3.x</h3><p>你可能需要安装较旧的 SWIG 版本（如 3.x 系列），以确保与 Python 2.7 的兼容性：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove swig</span><br><span class="line">wget https://sourceforge.net/projects/swig/files/swig/swig-3.0.12/swig-3.0.12.tar.gz</span><br><span class="line">tar -xvf swig-3.0.12.tar.gz</span><br><span class="line"><span class="built_in">cd</span> swig-3.0.12</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h3 id="4-安装-m2crypto-0-24-0"><a href="#4-安装-m2crypto-0-24-0" class="headerlink" title="4. 安装 m2crypto==0.24.0"></a>4. 安装 <code>m2crypto==0.24.0</code></h3><ol>
<li><p>进入 <code>M2Crypto-0.24.0</code> 目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line">cd ~/estimation_on_attacker/cuckoo_sandbox/M2Crypto-0.24.0/</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置环境变量，确保链接到正确的 OpenSSL 路径：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line">export LDFLAGS=&quot;-L/usr/local/ssl/lib&quot;</span><br><span class="line">export CPPFLAGS=&quot;-I/usr/local/ssl/include&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行安装命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制代码</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h2 id="ClamAV"><a href="#ClamAV" class="headerlink" title="ClamAV"></a>ClamAV</h2><p>完成的部分：</p>
<ul>
<li><p>首先使用<code>sudo clamd</code>启动<code>clamd</code>进程</p>
</li>
<li><p>然后使用<code>sudo clamdscan</code>扫描</p>
</li>
<li><p>已经安装并了解ClamAV的使用方法 clamdcan</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">parallels@ubuntu-linux-22-04-02-desktop:~$ clamscan detector_repo/dateset_large_size/VirusShare_0b346b201da259377ba11438504bbd9e </span><br><span class="line">Loading:    14s, ETA:   0s [========================&gt;]    8.70M/8.70M sigs       </span><br><span class="line">Compiling:   5s, ETA:   0s [========================&gt;]       41/41 tasks </span><br><span class="line"></span><br><span class="line">/home/parallels/detector_repo/dateset_large_size/VirusShare_0b346b201da259377ba11438504bbd9e: Win.Trojan.Delf-2345 FOUND</span><br><span class="line"></span><br><span class="line">----------- SCAN SUMMARY -----------</span><br><span class="line">Known viruses: 8696388</span><br><span class="line">Engine version: 1.3.1</span><br><span class="line">Scanned directories: 0</span><br><span class="line">Scanned files: 1</span><br><span class="line">Infected files: 1</span><br><span class="line">Data scanned: 0.29 MB</span><br><span class="line">Data read: 0.19 MB (ratio 1.49:1)</span><br><span class="line">Time: 25.619 sec (0 m 25 s)</span><br><span class="line">Start Date: 2024:07:21 13:33:09</span><br><span class="line">End Date:   2024:07:21 13:33:34</span><br><span class="line">parallels@ubuntu-linux-22-04-02-des</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>sudo systemctl unmask clamav-daemon</code>解除对 <code>clamav-daemon.service</code> 的屏蔽状态</p>
</li>
<li><p><code>sudo systemctl start clamav-daemon</code>解除屏蔽之后，尝试启动 <code>clamav-daemon</code> 服务：</p>
</li>
<li><p><code>sudo systemctl status clamav-daemon</code>查看 <code>clamav-daemon</code> 是否已经启动成功</p>
</li>
</ul>
<p>计划：</p>
<ul>
<li>尝试将ClamAV集成到各个attacker的代码中</li>
</ul>
<h1 id="Attacker的实验复现记录"><a href="#Attacker的实验复现记录" class="headerlink" title="Attacker的实验复现记录"></a>Attacker的实验复现记录</h1><h2 id="malware-rl-实验复现"><a href="#malware-rl-实验复现" class="headerlink" title="malware_rl 实验复现"></a>malware_rl 实验复现</h2><p>我在代码中修改的部分：</p>
<ol>
<li>使用<code>get_vt_report.py</code>脚本获取样本的virustotals报告，然后使用<code>avclassfication</code>为其分类。</li>
<li>移除无法被lief正确加载的样本，通过<code>keep_valid_pefile.py</code>过滤</li>
<li>程序开始时，将文件夹中的文件用被攻击的检测器检测，删掉已经被标记为合法的文件</li>
<li>episode_count 初始值等于文件数量，即对每一个文件执行一个回合，每个回合的步数遵循源码，为50步，即MAXTURNS&#x3D;50。</li>
<li>成功逃逸的样本会从待选列表中删除</li>
<li>补充了对avast、clamav的攻击<ul>
<li>对clamav的实现方式为，调用虚拟机（本机）的clamd进程扫描样本</li>
<li>对avast的攻击实现方式为：使用ssh连接宿主机（远程机器），通过远程机器的avast scan扫描样本获取结果。（因为avast没有linux版本）</li>
</ul>
</li>
</ol>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.05.50.png" alt="截屏2024-07-23 15.05.50"></p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.05.58.png" alt="截屏2024-07-23 15.05.58"></p>
<h3 id="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正："><a href="#针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：" class="headerlink" title="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正："></a><strong>针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</strong></h3><ul>
<li><p>❗️源代码中显示攻击的<code>detection</code>为<code>ember</code>、<code>sorel</code>、<code>malconv。</code></p>
</li>
<li><p>❗️源代码中并没有实现对对抗性样本的<code>Format Preservation</code>、<code>Executability Preservation</code>、<code>Maliciousness Preservation</code>的验证。</p>
</li>
<li><p>❗️虽然是基于<code>gym</code>提供的强化学习的框架，但是实际的动作选择是随机的。</p>
<blockquote>
<p><em><code>RandomAgent</code> 仅仅是一个随机选择动作的简单代理，它在每次需要选择动作时，都从动作空间中随机采样。这个过程不涉及任何学习或策略优化，因此不属于强化学习的范畴。</em></p>
</blockquote>
</li>
<li><p><code>Transformation</code>的具体<code>action</code>如下</p>
<ol>
<li><code>modify_machine_type</code></li>
<li><code>pad_overlay</code></li>
<li><code>append_benign_data_overlay</code></li>
<li><code>append_benign_binary_overlay</code></li>
<li><code>add_bytes_to_section_cave</code></li>
<li><code>add_section_strings</code></li>
<li><code>add_section_benign_data</code></li>
<li><code>add_strings_to_overlay</code></li>
<li><code>add_imports</code></li>
<li><code>rename_section</code></li>
<li><code>remove_debug</code></li>
<li><code>modify_optional_header</code></li>
<li><code>modify_timestamp</code></li>
<li><code>break_optional_header_checksum</code></li>
<li><code>upx_unpack</code></li>
<li><code>upx_pack</code></li>
</ol>
</li>
</ul>
<h3 id="代码的整体逻辑"><a href="#代码的整体逻辑" class="headerlink" title="代码的整体逻辑"></a><strong>代码的整体逻辑</strong></h3><ul>
<li><code>random_agent.py:</code>是主函数，使用gym提供的强化学习方法实现攻击，总计250次训练回合</li>
<li><code>malware/env</code>中实现了强化学习中的各种环境</li>
<li><code>malware/env/utils</code>中检测器模型和文件接口</li>
<li><code>malware/env/controls/modifier.py</code>中是对二进制文件的修改操作</li>
</ul>
<p>完成的部分：</p>
<ul>
<li>阅读完源码</li>
<li>已经把源代码跑起来了</li>
<li>添加了对ClamAV的攻击</li>
</ul>
<h3 id="出现的问题："><a href="#出现的问题：" class="headerlink" title="出现的问题："></a><strong>出现的问题：</strong></h3><ul>
<li><p>❗️<strong>获取不了<code>sorel</code>模型</strong>：因为需要亚马逊账号，但注册亚马逊账号需要一张VISA卡。</p>
</li>
<li><p>❗️<strong>源码逃逸率的计算很奇怪，并不是 逃逸的样本数量 &#x2F; 总样本数量</strong></p>
</li>
<li><p>❗️<strong>源码接受的病毒样本大小最大为1MB</strong></p>
</li>
<li><p>❗️**<code>lief</code>库无法处理大小超过<code>1073741824 bytes</code>的section**：这个问题目前来说是无法解决的，因为要修改第三方库</p>
<blockquote>
<p><em>某些PE样本在被LIEF解析时返回错误，因为该库不使用任何反汇编器，导致在导入地址表上实现的LEA指令导入过程中出现损坏。为了解决这个问题，需要进行初步过滤，以隔离正确解析的功能性样本。并不是所有生成的变种都是有效的，因为扰动可能会使文件损坏。我们的实验表明，通常需要创建至少两倍于预期有效文件数量的变种。</em></p>
</blockquote>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Sample: d33e6b41a890d73d656e2bdd0663a9d28c75226796a069b861f63afe790d4ee2</span><br><span class="line">DEBUG clamav_gym FUNC step</span><br><span class="line">DEBUG clamav_gym FUNC _take_action</span><br><span class="line">DEBUG modifier FUNC modify_sample, action modify_machine_type</span><br><span class="line">DEBUG modifier FUNC modify_machine_type</span><br><span class="line">The padding size of section <span class="string">&#x27;.pdata&#x27;</span> is huge. Only the first 1073741824 bytes will be taken into account</span><br><span class="line">Can<span class="string">&#x27;t read the padding content of section &#x27;</span>.pdata<span class="string">&#x27;</span></span><br><span class="line"><span class="string">Section #4 (��) is corrupted</span></span><br><span class="line"><span class="string">The padding size of section &#x27;</span>��<span class="string">&#x27; is huge. Only the first 1073741824 bytes will be taken into account</span></span><br><span class="line"><span class="string">Can&#x27;</span>t <span class="built_in">read</span> the padding content of section <span class="string">&#x27;��&#x27;</span></span><br><span class="line">     parse ok</span><br><span class="line"></span><br><span class="line">output <span class="keyword">done</span></span><br><span class="line">Killed</span><br></pre></td></tr></table></figure>

<h2 id="ARMED-实验复现"><a href="#ARMED-实验复现" class="headerlink" title="ARMED 实验复现"></a>ARMED 实验复现</h2><h3 id="我对代码的修改："><a href="#我对代码的修改：" class="headerlink" title="我对代码的修改："></a>我对代码的修改：</h3><ol>
<li>修改了原代码中不合理的部分，新增<code>armed_fix</code>环境作为测试代码</li>
<li>搭建了sanbox平台，对<code>IntegerityCheck</code>做出新的定义：report中<code>signatures</code>字段相同</li>
<li>增加了<code>avast</code>、<code>clamav</code>检测，统一了<code>ember</code>模型为<code>ember_2018.txt</code></li>
<li></li>
</ol>
<h3 id="ARMED的finding"><a href="#ARMED的finding" class="headerlink" title="ARMED的finding:"></a>ARMED的finding:</h3><p>评估显示，与原始样本S的检测相比，随机二进制级别的修改使得变种S’的恶意软件引擎检测率降低了最多80%。生成功能性变种在很大程度上取决于随机注入的扰动的具体顺序。我们的实验表明，平均约18%的变种是功能性的且未被破坏。</p>
<ol>
<li><p>测试样本生成的有效性验证：</p>
<ul>
<li>某些PE样本在通过LIEF解析时会返回错误，这是因为该库在导入LEA指令期间没有使用反汇编器，导致导入地址表损坏。</li>
<li>通常需要生成至少两倍于预期有效文件数量的变种 。</li>
</ul>
</li>
<li><p>检测率评估：使用VirusTotal平台评估了ARMED生成新的变种样本的检测率。❗️</p>
<ul>
<li><p>注入少量扰动就可以显著降低新变种的检测率：只注入五个扰动，也能使变种的检测率显著下降，反而更长的扰动不一定有效</p>
</li>
<li><p>在注入扰动后的几天内，大多数引擎开始检测到新变种，表明新的变种上传后，检测引擎会调整其检测策略 。</p>
<blockquote>
<p>❗️<em>argue</em></p>
<p><em>使用 VirusTotal 进行杀毒软件比较分析的人应当知道，他们在方法论上犯了许多隐含的错误，其中最明显的错误包括：</em></p>
<ol>
<li><em><strong>命令行版本的差异</strong>：VirusTotal 的杀毒引擎是命令行版本，因此根据产品的不同，它们的行为可能与桌面版本不完全相同。例如，桌面解决方案可能使用基于行为分析的技术，并配有个人防火墙，这些都会减少入口点并缓解传播等问题。</em></li>
<li><em><strong>桌面和外围解决方案的共存</strong>：在 VirusTotal 中，面向桌面的解决方案与面向外围的解决方案共存；后者的启发式算法可能更具攻击性和偏执，因为在外围环境中，误报的影响不太明显。因此，将这两类解决方案进行比较是不公平的。</em></li>
<li><em><strong>不同的启发式&#x2F;攻击性参数</strong>：VirusTotal 中的一些解决方案根据开发公司意愿被配置了与官方终端用户默认配置不同的启发式&#x2F;攻击性级别。</em></li>
</ol>
</blockquote>
</li>
</ul>
</li>
<li><p>序列结构评估：</p>
<ul>
<li><p>特定数量的扰动比其他数量更能有效降低检测率，表明扰动序列的顺序可能比序列长度更为重要 。</p>
</li>
<li><p>注入较少扰动的序列在某些情况下会导致较高的检测率，这可能是因为这些变种与原始样本非常相似，检测引擎能够更好地调整其检测 。❗️</p>
<blockquote>
<p><em>❗️argue，没有回答检测引擎是通过什么来判断它们的相似性并调整检测的？</em></p>
<p><em>哈希狩猎</em></p>
</blockquote>
</li>
</ul>
</li>
<li><p>处理时间评估：</p>
<ul>
<li>创建变种平均需要5分钟；使用第三方分类器对时间的影响较大。</li>
</ul>
</li>
<li><p>局限性：</p>
<ul>
<li><strong>序列长度与哈希冲突</strong>：当注入的扰动序列长度为1或2时，许多变种最终会与原始样本S重复，导致两者的加密哈希值相同。</li>
<li><strong>安全层的影响</strong>：尽管生成的变种S’检测率较低，但安全层（如防火墙配置）仍然可以帮助防止感染。例如，如果S’是由恶意软件下拉器或下载器生成的，这些下拉或投放的有效载荷可以被检测到，或者新的样本可能已经为恶意软件引擎所知。</li>
<li><strong>综合规避策略</strong>：ARMED框架可以应用于不同类型的恶意软件样本（如下拉器、下载器和有效载荷），并结合额外的规避层（如打包器）来提高逃避率。这表明，仅依靠单一方法可能不足以完全逃避检测，需要综合使用多种技术来提高成功率。</li>
</ul>
</li>
</ol>
<h3 id="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：-1"><a href="#针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：-1" class="headerlink" title="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正："></a>针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</h3><p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00.png" alt="截屏2024-07-23 15.38.00"></p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.27.png" alt="截屏2024-07-23 15.38.27"></p>
<ul>
<li><p><code>Transformation</code>的操作</p>
<blockquote>
<p><em>发现FAME仓库里对malware的manipulation与gym-malware（现在新仓库为malware_rl）相同，<code>FAME/data/manipulate.py</code></em></p>
<p>❗️**<code>imports_append</code>和<code>create_entry</code>未被使用，因为实验表明它们可能无法正确修补样本，并且很可能由于入口点错误而创建损坏的文件。**</p>
<p>❓但是源代码中有<code>imports_append</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># List of actions</span></span><br><span class="line">ACTION_TABLE = &#123;</span><br><span class="line">    <span class="string">&#x27;overlay_append&#x27;</span>: <span class="string">&#x27;overlay_append&#x27;</span>,     <span class="comment"># 0</span></span><br><span class="line">    <span class="string">&#x27;imports_append&#x27;</span>: <span class="string">&#x27;imports_append&#x27;</span>,     <span class="comment"># 1</span></span><br><span class="line">    <span class="string">&#x27;section_rename&#x27;</span>: <span class="string">&#x27;section_rename&#x27;</span>,     <span class="comment"># 2</span></span><br><span class="line">    <span class="string">&#x27;section_add&#x27;</span>: <span class="string">&#x27;section_add&#x27;</span>,           <span class="comment"># 3</span></span><br><span class="line">    <span class="string">&#x27;section_append&#x27;</span>: <span class="string">&#x27;section_append&#x27;</span>,     <span class="comment"># 4</span></span><br><span class="line">    <span class="string">&#x27;remove_signature&#x27;</span>: <span class="string">&#x27;remove_signature&#x27;</span>, <span class="comment"># 5</span></span><br><span class="line">    <span class="string">&#x27;remove_debug&#x27;</span>: <span class="string">&#x27;remove_debug&#x27;</span>,         <span class="comment"># 6</span></span><br><span class="line">    <span class="string">&#x27;upx_pack&#x27;</span>: <span class="string">&#x27;upx_pack&#x27;</span>,                 <span class="comment"># 7</span></span><br><span class="line">    <span class="string">&#x27;upx_unpack&#x27;</span>: <span class="string">&#x27;upx_unpack&#x27;</span>,             <span class="comment"># 8</span></span><br><span class="line">    <span class="string">&#x27;break_optional_header_checksum&#x27;</span>: <span class="string">&#x27;break_optional_header_checksum&#x27;</span>  <span class="comment"># 9</span></span><br><span class="line"><span class="comment">#   &#x27;create_new_entry&#x27;: &#x27;create_new_entry&#x27;, # generates often entry point errors</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<ol>
<li><code>overlay_append</code></li>
<li><code>imports_append</code></li>
<li><code>section_rename</code></li>
<li><code>section_add</code></li>
<li><code>section_append</code></li>
<li><code>remove_signature</code></li>
<li><code>remove_debug</code></li>
<li><code>upx_pack</code></li>
<li><code>upx_unpack</code></li>
<li><code>break_optional_header_checksum</code></li>
</ol>
</li>
<li><p>❗️<code>functionality</code>的检测方法不具备说服力</p>
<ol>
<li>函数<code>malware_analysis</code>：样本在沙盒中运行时间超过<code>15s</code>且报告中没有<code>err</code>，则为<code>functionality</code></li>
<li>函数<code>malware_analysis_HA</code>：样本报告中含有<code>domains</code>或<code>compromised_hosts</code>，则为<code>functionality</code></li>
</ol>
</li>
</ul>
<h2 id="AIMED-实验复现"><a href="#AIMED-实验复现" class="headerlink" title="AIMED 实验复现"></a>AIMED 实验复现</h2><h3 id="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：-2"><a href="#针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：-2" class="headerlink" title="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正："></a>针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</h3><p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00-1813762.png" alt="截屏2024-07-23 15.38.00"></p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-24%2017.35.49.png" alt="截屏2024-07-24 17.35.49"></p>
<ul>
<li><p><code>AIMED</code>攻击的检测器：<code>GBDT (static)</code>、<code>Sophos</code>、<code>ESET</code>和<code>Kaspersky</code></p>
<blockquote>
<p>所有扫描器都使用默认配置的静态检测进行测试，版本如下：Kaspersky 19、ESET NOD32 Antivirus 11和Sophos Endpoint Security 10.8，并在实验进行时保持最新。</p>
</blockquote>
</li>
<li></li>
</ul>
<h2 id="Shallow-Security-on-the-Creation-of-Adversarial-Variants-to-Evade-Machine-Learning-Based-Malware-Detectors-实验复现"><a href="#Shallow-Security-on-the-Creation-of-Adversarial-Variants-to-Evade-Machine-Learning-Based-Malware-Detectors-实验复现" class="headerlink" title="Shallow Security: on the Creation of Adversarial Variants to Evade Machine Learning-Based Malware Detectors 实验复现"></a>Shallow Security: on the Creation of Adversarial Variants to Evade Machine Learning-Based Malware Detectors 实验复现</h2><p>❓这个源码太复杂，晚点来看</p>
<h3 id="Shallow-Security的findings-amp-contribution"><a href="#Shallow-Security的findings-amp-contribution" class="headerlink" title="Shallow Security的findings &amp; contribution"></a>Shallow Security的findings &amp; contribution</h3><ul>
<li><p>基于原始二进制数据的ML模型可以通过在二进制文件中追加数据来绕过。</p>
</li>
<li><p>基于频率的ML模型可以通过在恶意软件二进制文件中嵌入良性字符串来绕过。</p>
</li>
<li><p>了解PE格式的分类器可能更倾向于检测打包器，而不是实际学习恶意二进制文件的概念。</p>
<p>提出了三种方法来缓解我们发现的缺点：</p>
<ol>
<li>操作系统加载器在加载文件时应更关注二进制不一致性，以避免加载由二进制数据插入产生的格式错误的二进制文件。</li>
<li>ML模型应更关注恶意特征的存在，而不是其频率，以更能抵抗数据追加。</li>
<li>我们主张在评估未来提出的基于ML的恶意软件检测器时，应考虑恶意软件变体的鲁棒性。</li>
</ol>
</li>
</ul>
<p>贡献如下：</p>
<ol>
<li>我们描述了参与对基于ML的恶意软件检测器进行对抗性攻击挑战的经历。</li>
<li>我们描述了在实验中发现的模型弱点。</li>
<li>我们提出了未来基于ML的恶意软件检测研究的措施。</li>
</ol>
<ul>
<li><p>附加数据的脆弱性</p>
</li>
<li><p>对抗性恶意软件体积大</p>
</li>
<li><p>基于特征存在而非频率开发模型</p>
</li>
<li><p>域特定模型的偏见</p>
</li>
<li><p>采用恶意软件变体的稳健性作为评估标准：为了提升恶意软件检测的实际效果，应该在评估机器学习检测器时，加入对恶意软件变体的稳健性测试，即使是深度学习模型也可能被绕过，因此需要更全面的评估标准。</p>
</li>
<li><p>创建稳健表示：要开发不受良性软件特征影响的检测方法，以防止恶意软件通过添加良性特征来绕过检测，同时还应检查文件资源和嵌入的PE文件，以识别隐藏的恶意内容。</p>
</li>
<li><p>转换样本为下载器</p>
</li>
<li><p>生成对抗性样本</p>
</li>
</ul>
<h3 id="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：-3"><a href="#针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：-3" class="headerlink" title="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正："></a>针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</h3><p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00-3083355.png" alt="截屏2024-07-23 15.38.00"></p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-08%2010.17.22.png" alt="截屏2024-08-08 10.17.22"></p>
<h2 id="Malware-Makeover-Breaking-ML-based-Static-Analysis-by-Modifying-Executable-Bytes-实验复现"><a href="#Malware-Makeover-Breaking-ML-based-Static-Analysis-by-Modifying-Executable-Bytes-实验复现" class="headerlink" title="Malware Makeover: Breaking ML-based Static Analysis by Modifying Executable Bytes 实验复现"></a>Malware Makeover: Breaking ML-based Static Analysis by Modifying Executable Bytes 实验复现</h2><h3 id="记录一下复现过程"><a href="#记录一下复现过程" class="headerlink" title="记录一下复现过程"></a>记录一下复现过程</h3><p>环境：ubuntu22.04 conda 32位python ida pro 6.4破解版</p>
<p>这个是可以运行的命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /home/parallels/estimation_on_attacker/IDA_Pro_v6.4_and_Hex-Rays_Decompiler/IDA_Pro_v6.4_and_Hex-Rays_Decompiler/idal -A -S/home/parallels/estimation_on_attacker/attackers/binary-transform/enhanced-binary-randomization/orp/inp_ida.py example/caffeine.exe</span><br></pre></td></tr></table></figure>



<h3 id="就地随机化（In-Place-Randomization，IPR）的转换类型-71-。"><a href="#就地随机化（In-Place-Randomization，IPR）的转换类型-71-。" class="headerlink" title="就地随机化（In-Place Randomization，IPR）的转换类型 [71]。"></a>就地随机化（In-Place Randomization，IPR）的转换类型 [71]。</h3><p>对于一个需要随机化的二进制文件，Pappas 等人提出了对其进行反汇编，识别函数和基本块，静态执行四种保持功能性的转换类型，然后根据修改后的汇编代码更新二进制文件。这四种转换类型分别是：</p>
<ol>
<li>使用等长的等效指令替换现有指令（例如，<code>sub eax,4 → add eax,-4</code>）。</li>
<li>在函数或基本块集合内重新分配寄存器（例如，交换所有 <code>ebx</code> 和 <code>ecx</code> 的实例），前提是这不会影响后续的代码。</li>
<li>使用依赖图重新排序指令，以确保不会在依赖于某指令的指令之前出现该指令。</li>
<li>改变寄存器值在栈中的推入和弹出顺序，以确保它们在函数调用过程中被保存。</li>
</ol>
<p>从两个方面比较了攻击的总体成功率：</p>
<ul>
<li>一是被误分类的二进制文件在10次重复攻击中至少一次成功的百分比（覆盖率）；</li>
<li>二是所有被攻击的二进制文件中攻击成功的总体百分比（效力）。</li>
</ul>
<p>操作<code>manipulations</code>，来自<code>binary_transform.py</code></p>
<ul>
<li>等效指令替换</li>
<li>寄存器交换</li>
<li>寄存器保留</li>
<li>指令重排</li>
<li>代码块位移</li>
<li>语义空操作</li>
</ul>
<p><strong>仓库只提供了一个简单的binary_transform.py，并没有给出完整的攻击框架，因此这篇论文的复现难度较高</strong>❗️</p>
<p>针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00-3083355.png" alt="截屏2024-07-23 15.38.00"></p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-09%2015.19.45.png" alt="截屏2024-08-09 15.19.45"></p>
<ul>
<li>论文中对reservaton的检测是举例检测，而非在攻击框架中检测，并且在<code>test-correctness.py</code>中并没有实现自动化功能性验证</li>
</ul>
<blockquote>
<p>思考，对于只返回0和1的问题来说，如何设置爬山算法呢</p>
</blockquote>
<h2 id="Functionality-Preserving-Black-Box-Optimization-of-Adversarial-Windows-Malware-实验复现"><a href="#Functionality-Preserving-Black-Box-Optimization-of-Adversarial-Windows-Malware-实验复现" class="headerlink" title="Functionality-Preserving Black-Box Optimization of Adversarial Windows Malware 实验复现"></a>Functionality-Preserving Black-Box Optimization of Adversarial Windows Malware 实验复现</h2><p>为什么会发现这些缺点：</p>
<ul>
<li>查询效率低，因为它们依赖于对输入的恶意软件进行随机变换的迭代应用；</li>
<li>它们还可能需要在优化过程的每次迭代中，在沙箱中执行对抗性恶意软件，以确保其入侵功能得到保留。</li>
</ul>
<p>操作：</p>
<ul>
<li>从良性软件中提取内容而非随机生成。</li>
<li>计算目标惩罚是按照修改后文件大小的变化惩罚</li>
</ul>
<p>怀疑实验效果并没有论文中所述的这么好。</p>
<p>代码结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CGammaSectionsEvasionProblem &lt;= 继承自 = CGammaEvasionProblem &lt;= 继承自 = CBlackBoxProblem</span><br><span class="line"></span><br><span class="line">CGammaSectionsEvasionProblem 实现 section injection，等价于section add 将新的节注入到样本中</span><br><span class="line"></span><br><span class="line">CGammaEvasionProblem 实现的 padding 等价于 overlay_append，将内容附加在样本末尾</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CGeneticAlgorithm &lt;= 继承自 = CAttackEvasion</span><br></pre></td></tr></table></figure>

<ul>
<li>要继承第三方病毒查杀，需要将代码嵌入<code>c_base_genetic_engine.py</code> 中的<code>run</code>函数</li>
</ul>
<h3 id="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：-4"><a href="#针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：-4" class="headerlink" title="针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正："></a>针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</h3><p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-07-23%2015.38.00-3608424.png" alt="截屏2024-07-23 15.38.00"></p>
<p><img src="/../images/estimation-on-black-box-adversarial-attack/%E6%88%AA%E5%B1%8F2024-08-14%2012.07.42.png" alt="截屏2024-08-14 12.07.42"></p>
<ul>
<li>没想明白为什么这篇论文能ccf a</li>
</ul>
<h3 id="Adversarial-EXEmples-A-Survey-and-Experimental-Evaluation-of-Practical-Attacks-on-Machine-Learning-for-Windows-Malware-Detection-1"><a href="#Adversarial-EXEmples-A-Survey-and-Experimental-Evaluation-of-Practical-Attacks-on-Machine-Learning-for-Windows-Malware-Detection-1" class="headerlink" title="Adversarial EXEmples: A Survey and Experimental Evaluation of Practical Attacks on Machine Learning for Windows Malware Detection"></a>Adversarial EXEmples: A Survey and Experimental Evaluation of Practical Attacks on Machine Learning for Windows Malware Detection</h3><p>这个就是把之前提的东西整理一遍，但没有加入商用软件的接口</p>
<h2 id="MalwareTotal-实验复现"><a href="#MalwareTotal-实验复现" class="headerlink" title="MalwareTotal 实验复现"></a>MalwareTotal 实验复现</h2><h3 id="评估性能的关键指标"><a href="#评估性能的关键指标" class="headerlink" title="评估性能的关键指标"></a>评估性能的关键指标</h3><ol>
<li>攻击成功率（ASR）</li>
<li>查询预算（Q）查询预算表示在生成过程中调用杀毒软件检测器的总次数</li>
<li>规避成本（𝛼）：定义为 对抗性样本的文件大小不超过原文件的1+𝛼倍，规避成本是修改后恶意软件大小的平均值，表示在生成过程中注入了多少字节</li>
<li>时间消耗（T）</li>
<li>功能性</li>
</ol>
<h3 id="代码中需要补充的地方："><a href="#代码中需要补充的地方：" class="headerlink" title="代码中需要补充的地方："></a>代码中需要补充的地方：</h3><p>统计哪个操作是关键操作</p>
<p>创新之处：</p>
<ul>
<li>与其他规避攻击不同，MalwareTotal专注于直接优化最小操作序列，而不是优化最小注入。这是因为恶意软件变异的顺序特性。</li>
<li>MalwareTotal简单易用，适用于实际场景，因为它是一种查询高效的规避攻击，仅需要黑盒恶意软件检测器提供的硬标签。</li>
</ul>
<p>变异操作：</p>
<ul>
<li>Header manipulation</li>
<li>Section manipulation</li>
<li>Overlay manipulation</li>
<li>Compound manipulation</li>
</ul>
<p>对于维持功能性的检查：比较cuckoo返回的签名，如果相同则证明保持了功能性</p>
<p>❗️发现在代码中，达到最大轮次后会执行一个加密操作</p>
<blockquote>
<p>在初始训练阶段，模型不断选择操作23，而不是设计出有效的操作序列。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 执行动作并检查样本是否被跳过</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">_take_action</span>(<span class="params">self, action_ix</span>):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		bin_size = sys.getsizeof(self.bytez)/<span class="number">1048576</span> <span class="comment"># 1024**2</span></span><br><span class="line">		<span class="keyword">if</span>  bin_size &gt;= self.max_file_size:</span><br><span class="line">			crash_prompt(<span class="string">f&#x27;In taking actions, file size is larger than the max_file_size, thereby skipped&#x27;</span>)</span><br><span class="line">			<span class="keyword">return</span>  <span class="literal">True</span>  </span><br><span class="line">		<span class="keyword">try</span> :</span><br><span class="line">			binary = pefile.PE(self.file_path)</span><br><span class="line">			is_skipped = <span class="literal">False</span></span><br><span class="line">		<span class="keyword">except</span> Exception <span class="keyword">as</span> e :</span><br><span class="line">			crash_prompt(<span class="string">f&#x27;in parsing pe... &#x27;</span>)</span><br><span class="line">			<span class="keyword">return</span>  <span class="literal">True</span>  </span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">not</span> is_skipped :</span><br><span class="line">	</span><br><span class="line">			action = ACTION_LOOKUP[action_ix]</span><br><span class="line">			<span class="comment"># action = &quot;add_imports&quot;</span></span><br><span class="line"></span><br><span class="line">			self.curr_action = action</span><br><span class="line">			<span class="comment"># crash_prompt(f&#x27;taking action name:  &#123;action&#125;&#x27;)</span></span><br><span class="line">			self.history[self.sha256][<span class="string">&quot;actions&quot;</span>].append(action)</span><br><span class="line">			<span class="keyword">try</span> :</span><br><span class="line">				self.bytez, is_skipped = mt_action.modify_sample(self.bytez, action, self.sha256, self.pe, self.file_path)</span><br><span class="line">			<span class="keyword">except</span> Exception <span class="keyword">as</span> e :</span><br><span class="line">				crash_prompt(<span class="string">f&#x27;Exception in _take_action <span class="subst">&#123;self.curr_action&#125;</span>&#x27;</span>)</span><br><span class="line">				<span class="comment"># crash_prompt(f&#x27;&#x27;)</span></span><br><span class="line">				crash_prompt(<span class="string">f&#x27;Error is : <span class="subst">&#123;e&#125;</span>&#x27;</span>)</span><br><span class="line">				<span class="keyword">return</span>  <span class="literal">True</span> </span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> self.turns == self.maxturns  : ❗️❗️❗️❗️❗️❗️</span><br><span class="line">				action = <span class="string">&quot;obsi_pack&quot;</span></span><br><span class="line">				<span class="keyword">try</span> :</span><br><span class="line">					<span class="comment"># 执行修改操作，并返回修改后的样本和是否跳过的标志</span></span><br><span class="line">					self.bytez, is_skipped = mt_action.modify_sample(self.bytez, action, self.sha256, self.pe, self.file_path)</span><br><span class="line">				<span class="keyword">except</span> Exception <span class="keyword">as</span> e :</span><br><span class="line">					<span class="comment"># crash_prompt(f&#x27;Exception in _take_action obsi_pack: &#123;e&#125;&#x27;)</span></span><br><span class="line">					crash_prompt(<span class="string">f&#x27;Exception in _take_action obsi_pack:&#x27;</span>)</span><br><span class="line">					<span class="keyword">return</span>  <span class="literal">True</span> </span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> is_skipped</span><br><span class="line">		</span><br></pre></td></tr></table></figure>

<h2 id="MalGuise-实验复现记录："><a href="#MalGuise-实验复现记录：" class="headerlink" title="MalGuise 实验复现记录："></a>MalGuise 实验复现记录：</h2><p>MalGuise实现了两个操作<code>slack_space</code>和’new_section’，也即将无语义操作<code>semnop</code>插入到PE文件的空闲位置，在第一个可执行段的末尾除插入跳转指令到无语义操作，执行完成后返回。并通过<code>mcts</code>求解。</p>
<h3 id="代码中存在的问题"><a href="#代码中存在的问题" class="headerlink" title="代码中存在的问题:"></a><strong>代码中存在的问题:</strong></h3><ul>
<li>在计算<code>rva_to_be_injected</code>时没有<strong>越界检查</strong>，会导致覆盖有效内容段</li>
<li>无法使用作者给的办法部署<code>MalGuise troch serve</code></li>
<li>当前还一次还只能处理一个病毒样本</li>
<li>❗️注意：只支持输入32位PE文件</li>
</ul>
<h3 id="我对代码修改的部分："><a href="#我对代码修改的部分：" class="headerlink" title="我对代码修改的部分："></a><strong>我对代码修改的部分</strong>：</h3><ul>
<li>在<code>patch.py</code>中增加了段越界检查，并在<code>ClASS mcts_state</code>中增加<code>rva_to_be_injected_exceed_section</code>用于终端该结点往下的搜索。</li>
<li>新增<code>malgraph_handler.py</code>、<code>load_malgraph_model.py</code>和<code>test_deployed_server.py</code>用于部署<code>Malgraph Torch Serve</code>，详细的部署过程记录在 <code>README</code>中。</li>
</ul>
<h3 id="如何加入新的检测器"><a href="#如何加入新的检测器" class="headerlink" title="如何加入新的检测器:"></a><strong>如何加入新的检测器</strong>:</h3><p>在<code>classfier.py</code>的<code>Classifier</code>类中增加新的检测器的判断，在<code>models</code>文件夹下新建<code>ClamAV</code>文件夹并实现一个<code>ClamAV</code>的类。</p>
<h2 id="MAB-Malware-实验复现记录"><a href="#MAB-Malware-实验复现记录" class="headerlink" title="MAB-Malware 实验复现记录"></a>MAB-Malware 实验复现记录</h2><h3 id="代码过程："><a href="#代码过程：" class="headerlink" title="代码过程："></a>代码过程：</h3><p>**Binary Rewriter:**作者用 pefile 这个库重新实现了 13 个 action，但与先前工作不同的是，作 者区分了 macro-action 和 micro-action 这两种概念，因为一个 marco- action 可能影响恶意样本的多个 feature，如果另一 action 只影响了其中一 部分，便认为其是原 action 的 micro-action。作者实现了 5 种 micro-action， 和对应的 macro-action 相一致，不过只添加 1 字节的内容，比如 SA (section add) 会改变文件的哈希值、section 数量和字节熵(byte entropy)这三个特 征，而 SA1 则只改变前两个特征。</p>
<p>**Action Minimizer:**恶意样本逃逸成功后，可以移除多余的 action，并用 micro-action 代替 macro- action 来产生特征改变较小的对抗样本。对恶意样本 x 连续施加 a1, a2, a3 三个 action 后得到了逃逸样本，不施加 a1 仍然能够逃逸，因此可以 移除这一无用 action，而对 a2, a3 尝试用 micro-action 替代，最终得到最小化 的样本。</p>
<h3 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h3><p>由于<code>code randomization</code>的操作是提前完成的，得到的样本保存在了<code>data/malware.CR</code>中，所有当<code>arm</code>选择到<code>CR</code>这一操作后，其实前面所做的操作都会丢失，而如果<code>data/malware.CR</code>中没有对应的样本，则该操作失效。所有的<code>data/malware.CR</code>中的样本通过<code>https://github.com/vpappas/orp</code>得到。</p>
<h2 id="MAlWARE-GAN-实验复现记录"><a href="#MAlWARE-GAN-实验复现记录" class="headerlink" title="MAlWARE-GAN 实验复现记录"></a>MAlWARE-GAN 实验复现记录</h2><p>问题：仅生成对抗性样本的API Feature，而不是真正的二进制文件。</p>
<p><code>Pesidious</code>中的问题，<code>MALWARE-GAN</code>中，训练<code>GAN</code>采用的方式是，将PE二进制文件的<code>section</code>和<code>import function</code>提取出来，输入到检测器和替代检测器中进行训练，这是因为其预先设定好attacker知道检测器使用的特征知识。无法泛化到商业检测器中。</p>
<p>如果非要测试<code>MALWARE-GAN</code>，方法则是使用<strong>商用检测器</strong>替换代码中的检测器。（感觉还挺复杂的，在训练GAN的时候生成器也必须生成完整的二进制文件，然后喂给商用检测器，但是<strong>替代检测器</strong>仍然按照论文中保持只知道<code>section</code>和<code>import function</code>的知识，怀疑这种根本无法生成训练模型）</p>
<h2 id="ARMED-RL-实验复现记录"><a href="#ARMED-RL-实验复现记录" class="headerlink" title="ARMED-RL 实验复现记录"></a>ARMED-RL 实验复现记录</h2><h3 id="存在的问题："><a href="#存在的问题：" class="headerlink" title="存在的问题："></a>存在的问题：</h3><p>仓库中<code>FAME/db/rl</code>没有保存的智能体<code>agent</code>，需要重新训练。</p>
<h1 id="训练和运行："><a href="#训练和运行：" class="headerlink" title="训练和运行："></a>训练和运行：</h1><h2 id="Malware-rl"><a href="#Malware-rl" class="headerlink" title="Malware_rl"></a>Malware_rl</h2><h3 id="论文的设置："><a href="#论文的设置：" class="headerlink" title="论文的设置："></a>论文的设置：</h3><p>论文中训练了四个代理，对每个sample变异10次，总计50000次变异训练，选择病毒是随机的</p>
<ul>
<li>50000个随机病毒</li>
<li>2600个勒索病毒</li>
<li>1600virut病毒</li>
<li>4100browsefox病毒</li>
</ul>
<p>随机策略：每个样本10次变异</p>
<h3 id="我的小规模试验设置"><a href="#我的小规模试验设置" class="headerlink" title="我的小规模试验设置"></a>我的小规模试验设置</h3><ul>
<li><p><strong>强化学习策略</strong>：</p>
<ul>
<li>针对4个检测器训练4个代理：</li>
<li>训练集：gamevance中的100个样本，总共训练1000 timesteps</li>
<li>测试集： hupigon的100个样本，每个样本变异10次</li>
<li>对于商用软件，训练时的观测值采用malconv的观测值 <em><strong>学的是什么呢</strong></em></li>
</ul>
</li>
<li><p><strong>训练花费：</strong></p>
<ul>
<li>针对MalConv，在gamevance中的100个样本，总共训练1000 timesteps,</li>
<li>针对Ember，在gamevance中的100个样本，总共训练1000 timesteps,</li>
<li>针对Clamav，在gamevance中的100个样本，总共训练1000 timesteps,训练时的观测值采用malconv的观测值</li>
<li>针对malgrah，在gamevance中的100个样本，总共训练1000 timesteps,训练时的观测值采用malconv的观测值</li>
</ul>
</li>
<li><p><strong>随机策略：</strong></p>
<ul>
<li>对hupigon的100个样本，每个样本变异10次，结果已经保存到logs中，对malgraph的时间最长69个识别为恶意的样本花费1.5小时</li>
</ul>
</li>
</ul>
<h2 id="MalwareTotal"><a href="#MalwareTotal" class="headerlink" title="MalwareTotal:"></a>MalwareTotal:</h2><p><strong>论文设置：</strong></p>
<p><strong>我的小规模试验设置：</strong></p>
<p><strong>训练集：</strong></p>
<p><strong>训练参数：</strong></p>
<ul>
<li>gamevance中的100个样本</li>
<li>总共训练3000 timesteps</li>
<li>每个环境的maxturns 设置为 30</li>
<li>self.alpha &#x3D; 5.5 # 论文中的图2</li>
</ul>
<p><strong>训练花费：</strong></p>
<ul>
<li>针对malconv的训练时间： 2:06:59.202835</li>
</ul>
<h2 id="MalGuise"><a href="#MalGuise" class="headerlink" title="MalGuise:"></a>MalGuise:</h2><p><strong>论文设置：</strong></p>
<h2 id="AIMED"><a href="#AIMED" class="headerlink" title="AIMED"></a>AIMED</h2><p><strong>论文设置：</strong></p>
<ul>
<li>10 generation</li>
<li>10 perturbution</li>
<li>4 Population</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/06/24/malware-classification/" rel="prev" title="malware-classification">
      <i class="fa fa-chevron-left"></i> malware-classification
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%BB%91%E7%9B%92PE%E5%AF%B9%E6%8A%97%E6%80%A7%E6%94%BB%E5%87%BB%E7%9A%84%E8%AF%84%E4%BC%B0%E5%AE%9E%E9%AA%8C%E8%AE%A1%E5%88%92"><span class="nav-number">1.</span> <span class="nav-text">黑盒PE对抗性攻击的评估实验计划</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Attacker-%E7%9A%84%E9%80%89%E6%8B%A9%E9%97%AE%E9%A2%98"><span class="nav-number">1.1.</span> <span class="nav-text">Attacker 的选择问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Detector-%E7%9A%84%E9%80%89%E6%8B%A9%E9%97%AE%E9%A2%98"><span class="nav-number">1.2.</span> <span class="nav-text">Detector 的选择问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Mal-Graph"><span class="nav-number">1.2.0.1.</span> <span class="nav-text">Mal Graph:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dataset%E7%9A%84%E9%80%89%E6%8B%A9%E9%97%AE%E9%A2%98"><span class="nav-number">1.3.</span> <span class="nav-text">Dataset的选择问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%84%E4%BB%B7%E7%9A%84%E6%8C%87%E6%A0%87%E9%97%AE%E9%A2%98"><span class="nav-number">1.4.</span> <span class="nav-text">评价的指标问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E8%AE%BE%E8%AE%A1"><span class="nav-number">1.5.</span> <span class="nav-text">实验设计</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E6%88%91%E8%AE%A4%E4%B8%BA%E6%98%AF%E4%BB%A5%E5%89%8D%E7%9A%84%E6%96%87%E7%AB%A0%E6%B2%A1%E6%9C%89%E5%81%9A%E8%BF%87%E7%9A%84%E5%B7%A5%E4%BD%9C"><span class="nav-number">1.6.</span> <span class="nav-text">一些我认为是以前的文章没有做过的工作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%9A"><span class="nav-number">1.7.</span> <span class="nav-text">实验平台搭建：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%9D%E6%8C%81PE%E6%A0%BC%E5%BC%8F%E3%80%81%E5%8F%AF%E6%89%A7%E8%A1%8C%E3%80%81%E6%81%B6%E6%84%8F%E5%8A%9F%E8%83%BD%E7%9A%84%E6%A3%80%E6%B5%8B%E6%A8%A1%E5%9D%97"><span class="nav-number">1.7.1.</span> <span class="nav-text">保持PE格式、可执行、恶意功能的检测模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%9B%86%E6%A8%A1%E5%9D%97"><span class="nav-number">1.7.2.</span> <span class="nav-text">数据集模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%88%E5%B8%8C%E7%8B%A9%E7%8C%8E%E6%A3%80%E6%B5%8B%E6%A8%A1%E5%9D%97"><span class="nav-number">1.7.3.</span> <span class="nav-text">哈希狩猎检测模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E6%AF%94%E8%BE%83%E6%A8%A1%E5%9D%97"><span class="nav-number">1.7.4.</span> <span class="nav-text">文件大小比较模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%BB%E5%87%BB%E5%99%A8%E7%9A%84%E7%94%9F%E6%88%90%E6%95%88%E7%8E%87"><span class="nav-number">1.7.5.</span> <span class="nav-text">攻击器的生成效率</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%91%E7%9B%92%E6%A3%80%E6%B5%8B%E5%99%A8%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%9D%97"><span class="nav-number">1.7.6.</span> <span class="nav-text">黑盒检测器接口模块</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%B0%E6%9C%89survey%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-number">2.</span> <span class="nav-text">现有survey的优缺点</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Adversarial-Attacks-against-Windows-PE-Malware-Detection-A-Survey-of-the-State-of-the-Art-Computer-amp-Security-2023"><span class="nav-number">2.1.</span> <span class="nav-text">Adversarial Attacks against Windows PE Malware Detection: A Survey of the State-of-the-Art; Computer &amp; Security 2023</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Pros"><span class="nav-number">2.1.1.</span> <span class="nav-text">Pros:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cons"><span class="nav-number">2.1.2.</span> <span class="nav-text">Cons:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Argue"><span class="nav-number">2.1.3.</span> <span class="nav-text">Argue:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#A-comparison-of-adversarial-malware-generators-Journal-of-Computer-Virology-and-Hacking-Techniques-2024"><span class="nav-number">2.2.</span> <span class="nav-text">A comparison of adversarial malware generators;Journal of Computer Virology and Hacking Techniques 2024</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Pros-1"><span class="nav-number">2.2.1.</span> <span class="nav-text">Pros</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cons-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">Cons</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Argue-1"><span class="nav-number">2.2.3.</span> <span class="nav-text">Argue</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#A-survey-of-strategy-driven-evasion-methods-for-PE-malware-Transformation-concealment-and-attack"><span class="nav-number">2.3.</span> <span class="nav-text">A survey of strategy-driven evasion methods for PE malware: Transformation, concealment, and attack</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#paper%E5%9B%9E%E7%AD%94%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A%EF%BC%88%E6%98%AF%E5%90%A6%E6%9C%89%E7%90%86%E6%9C%89%E6%8D%AE%E7%9A%84%E5%9B%9E%E7%AD%94%E6%B8%85%E6%A5%9A%E4%BA%86%EF%BC%9F%EF%BC%89"><span class="nav-number">2.3.1.</span> <span class="nav-text">paper回答的问题：（是否有理有据的回答清楚了？）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AA%E5%9B%9E%E7%AD%94%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="nav-number">2.3.2.</span> <span class="nav-text">未回答的问题：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Evaluating-Realistic-Adversarial-Attacks-against-Machine-Learning-Models-for-Windows-PE-Malware-Detection"><span class="nav-number">2.4.</span> <span class="nav-text">Evaluating Realistic Adversarial Attacks against Machine Learning Models for Windows PE Malware Detection</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%AB%E7%9A%84SOK%E8%AE%BA%E6%96%87%E6%98%AF%E6%80%8E%E4%B9%88%E5%86%99%E7%9A%84"><span class="nav-number">3.</span> <span class="nav-text">别的SOK论文是怎么写的</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Evaluating-Realistic-Adversarial-Attacks-against-Machine-Learning-Models-for-Windows-PE-Malware-Detection-1"><span class="nav-number">3.1.</span> <span class="nav-text">Evaluating Realistic Adversarial Attacks against Machine Learning Models for Windows PE Malware Detection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Adversarial-EXEmples-A-Survey-and-Experimental-Evaluation-of-Practical-Attacks-on-Machine-Learning-for-Windows-Malware-Detection"><span class="nav-number">3.2.</span> <span class="nav-text">Adversarial EXEmples: A Survey and Experimental Evaluation of Practical Attacks on Machine Learning for Windows Malware Detection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#An-Empirical-Study-on-the-Effectiveness-of-Adversarial-Examples-in-Malware-Detection"><span class="nav-number">3.3.</span> <span class="nav-text">An Empirical Study on the Effectiveness of Adversarial Examples in Malware Detection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#A-Comparison-of-State-of-the-Art-Techniques-for-Generating-Adversarial-Malware-Binaries"><span class="nav-number">3.4.</span> <span class="nav-text">A Comparison of State-of-the-Art Techniques for Generating Adversarial Malware Binaries</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#A-comparison-of-adversarial-malware-generators"><span class="nav-number">3.5.</span> <span class="nav-text">A comparison of adversarial malware generators</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E7%94%A8%E5%88%B0%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="nav-number">4.</span> <span class="nav-text">实验用到的工具</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Cuckoo-Sandbox"><span class="nav-number">4.1.</span> <span class="nav-text">Cuckoo Sandbox</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95"><span class="nav-number">5.</span> <span class="nav-text">过程记录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AAPE%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E5%90%88%E6%B3%95"><span class="nav-number">5.1.</span> <span class="nav-text">如何判断一个PE文件格式合法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-cuckoo-Sandbox-%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E5%8F%AF%E6%89%A7%E8%A1%8C%E5%92%8C%E4%BF%9D%E6%8C%81%E6%81%B6%E6%84%8F%E5%8A%9F%E8%83%BD"><span class="nav-number">5.2.</span> <span class="nav-text">使用 cuckoo Sandbox 检查是否可执行和保持恶意功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E9%A1%B5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%EF%BC%9A"><span class="nav-number">5.2.1.</span> <span class="nav-text">网页使用教程：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8F%90%E4%BA%A4%E6%A0%B7%E6%9C%AC%E5%88%B0%E6%9C%AC%E5%9C%B0cuckoo%E5%B9%B6%E8%8E%B7%E5%8F%96%E5%88%86%E6%9E%90%E7%BB%93%E6%9E%9C"><span class="nav-number">5.2.2.</span> <span class="nav-text">如何自动化提交样本到本地cuckoo并获取分析结果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B%EF%BC%9A"><span class="nav-number">5.2.3.</span> <span class="nav-text">安装教程：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AF%BC%E5%85%A5MongoDB-4-2%E7%9A%84%E5%AE%98%E6%96%B9%E5%85%AC%E9%92%A5"><span class="nav-number">5.2.4.</span> <span class="nav-text">1. 导入MongoDB 4.2的官方公钥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%9B%E5%BB%BAMongoDB-4-2%E7%9A%84APT%E6%BA%90%E5%88%97%E8%A1%A8%E6%96%87%E4%BB%B6"><span class="nav-number">5.2.5.</span> <span class="nav-text">2. 创建MongoDB 4.2的APT源列表文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%9B%B4%E6%96%B0APT%E5%8C%85%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">5.2.6.</span> <span class="nav-text">3. 更新APT包数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%AE%89%E8%A3%85MongoDB-4-2"><span class="nav-number">5.2.7.</span> <span class="nav-text">4. 安装MongoDB 4.2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%9B%BA%E5%AE%9AMongoDB%E7%89%88%E6%9C%AC"><span class="nav-number">5.2.8.</span> <span class="nav-text">5. 固定MongoDB版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E5%90%AF%E5%8A%A8MongoDB%E6%9C%8D%E5%8A%A1"><span class="nav-number">5.2.9.</span> <span class="nav-text">6. 启动MongoDB服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E8%AE%BE%E7%BD%AEMongoDB%E6%9C%8D%E5%8A%A1%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF"><span class="nav-number">5.2.10.</span> <span class="nav-text">7. 设置MongoDB服务开机自启</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E6%A3%80%E6%9F%A5MongoDB%E6%9C%8D%E5%8A%A1%E7%8A%B6%E6%80%81"><span class="nav-number">5.2.11.</span> <span class="nav-text">8. 检查MongoDB服务状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%89%E8%A3%85%E5%85%BC%E5%AE%B9%E7%9A%84-OpenSSL-%E7%89%88%E6%9C%AC"><span class="nav-number">5.2.12.</span> <span class="nav-text">1. 安装兼容的 OpenSSL 版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E6%96%B0%E7%BC%96%E8%AF%91-OpenSSL-%E4%BB%A5%E7%94%9F%E6%88%90%E5%8A%A8%E6%80%81%E5%BA%93"><span class="nav-number">5.2.13.</span> <span class="nav-text">重新编译 OpenSSL 以生成动态库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%AE%BE%E7%BD%AE-OpenSSL-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">5.2.14.</span> <span class="nav-text">2. 设置 OpenSSL 环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%AE%89%E8%A3%85-SWIG-3-x"><span class="nav-number">5.2.15.</span> <span class="nav-text">3. 安装 SWIG 3.x</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%AE%89%E8%A3%85-m2crypto-0-24-0"><span class="nav-number">5.2.16.</span> <span class="nav-text">4. 安装 m2crypto&#x3D;&#x3D;0.24.0</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ClamAV"><span class="nav-number">5.3.</span> <span class="nav-text">ClamAV</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Attacker%E7%9A%84%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0%E8%AE%B0%E5%BD%95"><span class="nav-number">6.</span> <span class="nav-text">Attacker的实验复现记录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#malware-rl-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0"><span class="nav-number">6.1.</span> <span class="nav-text">malware_rl 实验复现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%92%88%E5%AF%B9adversarial-attacks-and-defenses-for-windows-pe-malware-detection%E4%B8%AD%E6%80%BB%E7%BB%93%E7%9A%84%E8%A1%A5%E5%85%85%E5%92%8C%E7%BA%A0%E6%AD%A3%EF%BC%9A"><span class="nav-number">6.1.1.</span> <span class="nav-text">针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E7%9A%84%E6%95%B4%E4%BD%93%E9%80%BB%E8%BE%91"><span class="nav-number">6.1.2.</span> <span class="nav-text">代码的整体逻辑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="nav-number">6.1.3.</span> <span class="nav-text">出现的问题：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ARMED-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0"><span class="nav-number">6.2.</span> <span class="nav-text">ARMED 实验复现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%91%E5%AF%B9%E4%BB%A3%E7%A0%81%E7%9A%84%E4%BF%AE%E6%94%B9%EF%BC%9A"><span class="nav-number">6.2.1.</span> <span class="nav-text">我对代码的修改：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ARMED%E7%9A%84finding"><span class="nav-number">6.2.2.</span> <span class="nav-text">ARMED的finding:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%92%88%E5%AF%B9adversarial-attacks-and-defenses-for-windows-pe-malware-detection%E4%B8%AD%E6%80%BB%E7%BB%93%E7%9A%84%E8%A1%A5%E5%85%85%E5%92%8C%E7%BA%A0%E6%AD%A3%EF%BC%9A-1"><span class="nav-number">6.2.3.</span> <span class="nav-text">针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AIMED-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0"><span class="nav-number">6.3.</span> <span class="nav-text">AIMED 实验复现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%92%88%E5%AF%B9adversarial-attacks-and-defenses-for-windows-pe-malware-detection%E4%B8%AD%E6%80%BB%E7%BB%93%E7%9A%84%E8%A1%A5%E5%85%85%E5%92%8C%E7%BA%A0%E6%AD%A3%EF%BC%9A-2"><span class="nav-number">6.3.1.</span> <span class="nav-text">针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shallow-Security-on-the-Creation-of-Adversarial-Variants-to-Evade-Machine-Learning-Based-Malware-Detectors-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0"><span class="nav-number">6.4.</span> <span class="nav-text">Shallow Security: on the Creation of Adversarial Variants to Evade Machine Learning-Based Malware Detectors 实验复现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Shallow-Security%E7%9A%84findings-amp-contribution"><span class="nav-number">6.4.1.</span> <span class="nav-text">Shallow Security的findings &amp; contribution</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%92%88%E5%AF%B9adversarial-attacks-and-defenses-for-windows-pe-malware-detection%E4%B8%AD%E6%80%BB%E7%BB%93%E7%9A%84%E8%A1%A5%E5%85%85%E5%92%8C%E7%BA%A0%E6%AD%A3%EF%BC%9A-3"><span class="nav-number">6.4.2.</span> <span class="nav-text">针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Malware-Makeover-Breaking-ML-based-Static-Analysis-by-Modifying-Executable-Bytes-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0"><span class="nav-number">6.5.</span> <span class="nav-text">Malware Makeover: Breaking ML-based Static Analysis by Modifying Executable Bytes 实验复现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E5%A4%8D%E7%8E%B0%E8%BF%87%E7%A8%8B"><span class="nav-number">6.5.1.</span> <span class="nav-text">记录一下复现过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%B1%E5%9C%B0%E9%9A%8F%E6%9C%BA%E5%8C%96%EF%BC%88In-Place-Randomization%EF%BC%8CIPR%EF%BC%89%E7%9A%84%E8%BD%AC%E6%8D%A2%E7%B1%BB%E5%9E%8B-71-%E3%80%82"><span class="nav-number">6.5.2.</span> <span class="nav-text">就地随机化（In-Place Randomization，IPR）的转换类型 [71]。</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Functionality-Preserving-Black-Box-Optimization-of-Adversarial-Windows-Malware-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0"><span class="nav-number">6.6.</span> <span class="nav-text">Functionality-Preserving Black-Box Optimization of Adversarial Windows Malware 实验复现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%92%88%E5%AF%B9adversarial-attacks-and-defenses-for-windows-pe-malware-detection%E4%B8%AD%E6%80%BB%E7%BB%93%E7%9A%84%E8%A1%A5%E5%85%85%E5%92%8C%E7%BA%A0%E6%AD%A3%EF%BC%9A-4"><span class="nav-number">6.6.1.</span> <span class="nav-text">针对adversarial-attacks-and-defenses-for-windows-pe-malware-detection中总结的补充和纠正：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adversarial-EXEmples-A-Survey-and-Experimental-Evaluation-of-Practical-Attacks-on-Machine-Learning-for-Windows-Malware-Detection-1"><span class="nav-number">6.6.2.</span> <span class="nav-text">Adversarial EXEmples: A Survey and Experimental Evaluation of Practical Attacks on Machine Learning for Windows Malware Detection</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MalwareTotal-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0"><span class="nav-number">6.7.</span> <span class="nav-text">MalwareTotal 实验复现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%84%E4%BC%B0%E6%80%A7%E8%83%BD%E7%9A%84%E5%85%B3%E9%94%AE%E6%8C%87%E6%A0%87"><span class="nav-number">6.7.1.</span> <span class="nav-text">评估性能的关键指标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E4%B8%AD%E9%9C%80%E8%A6%81%E8%A1%A5%E5%85%85%E7%9A%84%E5%9C%B0%E6%96%B9%EF%BC%9A"><span class="nav-number">6.7.2.</span> <span class="nav-text">代码中需要补充的地方：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MalGuise-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0%E8%AE%B0%E5%BD%95%EF%BC%9A"><span class="nav-number">6.8.</span> <span class="nav-text">MalGuise 实验复现记录：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E4%B8%AD%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">6.8.1.</span> <span class="nav-text">代码中存在的问题:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%91%E5%AF%B9%E4%BB%A3%E7%A0%81%E4%BF%AE%E6%94%B9%E7%9A%84%E9%83%A8%E5%88%86%EF%BC%9A"><span class="nav-number">6.8.2.</span> <span class="nav-text">我对代码修改的部分：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%8A%A0%E5%85%A5%E6%96%B0%E7%9A%84%E6%A3%80%E6%B5%8B%E5%99%A8"><span class="nav-number">6.8.3.</span> <span class="nav-text">如何加入新的检测器:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MAB-Malware-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0%E8%AE%B0%E5%BD%95"><span class="nav-number">6.9.</span> <span class="nav-text">MAB-Malware 实验复现记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="nav-number">6.9.1.</span> <span class="nav-text">代码过程：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">6.9.2.</span> <span class="nav-text">存在的问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MAlWARE-GAN-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0%E8%AE%B0%E5%BD%95"><span class="nav-number">6.10.</span> <span class="nav-text">MAlWARE-GAN 实验复现记录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ARMED-RL-%E5%AE%9E%E9%AA%8C%E5%A4%8D%E7%8E%B0%E8%AE%B0%E5%BD%95"><span class="nav-number">6.11.</span> <span class="nav-text">ARMED-RL 实验复现记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="nav-number">6.11.1.</span> <span class="nav-text">存在的问题：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AE%AD%E7%BB%83%E5%92%8C%E8%BF%90%E8%A1%8C%EF%BC%9A"><span class="nav-number">7.</span> <span class="nav-text">训练和运行：</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Malware-rl"><span class="nav-number">7.1.</span> <span class="nav-text">Malware_rl</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BA%E6%96%87%E7%9A%84%E8%AE%BE%E7%BD%AE%EF%BC%9A"><span class="nav-number">7.1.1.</span> <span class="nav-text">论文的设置：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%91%E7%9A%84%E5%B0%8F%E8%A7%84%E6%A8%A1%E8%AF%95%E9%AA%8C%E8%AE%BE%E7%BD%AE"><span class="nav-number">7.1.2.</span> <span class="nav-text">我的小规模试验设置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MalwareTotal"><span class="nav-number">7.2.</span> <span class="nav-text">MalwareTotal:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MalGuise"><span class="nav-number">7.3.</span> <span class="nav-text">MalGuise:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AIMED"><span class="nav-number">7.4.</span> <span class="nav-text">AIMED</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="theLonging"
      src="/images/touxiang.JPG">
  <p class="site-author-name" itemprop="name">theLonging</p>
  <div class="site-description" itemprop="description">不捨晝夜。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/chantchanH7" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;chantchanH7" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/562879980@qq.com" title="E-Mail → 562879980@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2023-07 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">theLonging</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">526k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">7:58</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>



    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
